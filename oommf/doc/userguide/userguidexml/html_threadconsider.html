<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>7.2 OOMMF eXtensible Solver Batch Interface: boxsi‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide</title>
<!--Generated by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on September 30, 2022.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="oommf.css" type="text/css">
<link rel="stylesheet" href="oommf-report.css" type="text/css">
<link rel="stylesheet" href="oommf-tweakfonts.css" type="text/css">
<link rel="stylesheet" href="oommf-navbar.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="up up" href="userguide.html" title="OOMMF User’s Guide">
<link rel="start" href="userguide.html" title="OOMMF User’s Guide">
<link rel="prev" href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="next" href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_contriboxsext.html" title="7.4 Contributed Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide">
<link rel="chapter" href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide">
<link rel="bibliography" href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide">
<link rel="index" href="index.html" title="Index ‣ OOMMF User’s Guide">
<meta name="keywords" lang="en" content="NUMA, OOMMF_NUMANODES, OOMMF_OUTDIR, OOMMF_RESTARTFILEDIR, OOMMF_THREADS, application, batch, boxsi, environment variables, launchhost, mmLaunch, mmLaunch user interface, parallelization, restarting, simulation 3D, threads">
</head>
<body>
<nav class="ltx_page_navbar"><a href="userguide.html" title="OOMMF User’s Guide" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">OOMMF User’s Guide</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Disclaimer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Overview of OOMMF</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Installation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Quick Start: Example OOMMF Session</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>OOMMF Architecture Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Command Line Launching</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>OOMMF Launcher/Control Interface: mmLaunch</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter">
<a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>OOMMF eXtensible Solver</span></a>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.1 </span>OOMMF eXtensible Solver Interactive Interface:
Oxsii</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section ltx_ref_self"><span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.2 </span>OOMMF eXtensible Solver Batch Interface: boxsi</span></span></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3 </span>Standard Oxs_Ext Child Classes</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_contriboxsext.html" title="7.4 Contributed Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.4 </span>Contributed Oxs_Ext Child Classes</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Micromagnetic Problem Editor: mmProbEd</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Micromagnetic Problem File Source: FileSource</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Data Table Display: mmDataTable</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Data Graph Display: mmGraph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Vector Field Display: mmDisp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Data Archive: mmArchive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Documentation Viewer: mmHelp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Command Line Utilities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>Problem Specification File Formats (MIF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Data Table File Format (ODT)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Vector Field File Format (OVF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>Troubleshooting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">21 </span>Credits</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Bibliography</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>OOMMF eXtensible Solver</span></a><a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.1 </span>OOMMF eXtensible Solver Interactive Interface:
Oxsii</span></a><a href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3 </span>Standard Oxs_Ext Child Classes</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_section ltx_authors_1line">
<h1 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7.2 </span>OOMMF eXtensible Solver Batch Interface: boxsi</h1>

<div id="p1" class="ltx_para ltx_align_center">
<div class="ltx_inline-block ltx_transformed_outer" style="width:518.4pt;height:235.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;"><img src="pngfiles/boxsi-ss.png" id="p1.g1" class="ltx_graphics" width="648" height="294" alt="">
</span></div>
</div>
<div id="p2" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Overview
<br class="ltx_break"></span>The application <span class="ltx_text ltx_font_bold">Boxsi</span> provides a batch mode interface to the Oxs
micromagnetic computation engine. A restricted graphical interface is
provided, but <span class="ltx_text ltx_font_bold">Boxsi</span> is primarily intended to be controlled by
command line arguments, and launched by the user either directly from
the shell prompt or from inside a batch file.</p>
</div>
<div id="p3" class="ltx_para">
<p class="ltx_p">Within the <a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref">OOMMF architecture</a>, <span class="ltx_text ltx_font_bold">Boxsi</span> is both a server and a client
application. It is a client of data table display and storage
applications, and vector field display and storage applications.
<span class="ltx_text ltx_font_bold">Boxsi</span> is the server of a solver control service for which the only
client is <a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmLaunch</a>. It is through
this service that <span class="ltx_text ltx_font_bold">mmLaunch</span> provides a user interface window (shown
above) on behalf of <span class="ltx_text ltx_font_bold">Boxsi</span>.</p>
</div>
<div id="p4" class="ltx_para">
<p class="ltx_p">A micromagnetic problem is communicated to <span class="ltx_text ltx_font_bold">Boxsi</span> through a
<a href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 2 file</a> specified on the command line
and loaded from disk. The MIF 1.x formats are also accepted; they are
converted to the MIF 2 format by an automatic call to
<a href="sec_mifconvert.html" title="16.12 MIF Format Conversion: mifconvert ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mifconvert</a>.</p>
</div>
<div id="p5" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Launching
<br class="ltx_break"><span class="ltx_text" style="font-size:83%;">Boxsi</span></span> must be started from the command line. The syntax is</p>
<pre class="ltx_verbatim ltx_font_typewriter">
tclsh oommf.tcl boxsi [standard options] [-exitondone &lt;0|1&gt;] [-kill tags] \
   [-logfile logname] [-loglevel level] [-nice &lt;0|1&gt;] [-nocrccheck &lt;0|1&gt;] \
   [-numanodes nodes] [-outdir dir] [-parameters params] [-pause &lt;0|1&gt;] \
   [-regression_test flag] [-regression_testname basename] \
   [-restart &lt;0|1|2&gt;] [-restartfiledir dir] [-threads count] miffile
</pre>
<p class="ltx_p">where</p>
<dl id="I1" class="ltx_description">
<dt id="I1.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-exitondone <math id="I1.ix1.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="I1.ix1.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix1.p1" class="ltx_para">
<p class="ltx_p">Whether to exit after solution of the problem is complete, or to
await the interactive selection of the <span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span><span class="ltx_text ltx_font_typewriter">|<span class="ltx_text ltx_font_sansserif ltx_font_bold">Exit</span></span> command.
The default is 1, i.e., automatically exit when done.</p>
</div>
</dd>
<dt id="I1.ix2" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-kill tags</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix2.p1" class="ltx_para">
<p class="ltx_p">On termination, sends requests to other applications to
shutdown too. The <span class="ltx_text ltx_font_italic">tags</span> argument should be either
a list of destination tags (which are declared by
<a href="sec_mif2ExtensionCommands.html#html:destinationCmd" title="item Destination ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_font_typewriter">Destination</span> commands</a>,
Sec. <a href="sec_mif2ExtensionCommands.html" title="17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.3.2</span></a>) from the input MIF file, or else the keyword <span class="ltx_text ltx_font_typewriter">all</span>, which is interpreted to mean all
the destination tags.</p>
</div>
</dd>
<dt id="I1.ix3" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-logfile logname</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix3.p1" class="ltx_para">
<p class="ltx_p">Write log and error messages to file <span class="ltx_text ltx_font_italic">logname</span>. The default log
file is <span class="ltx_text ltx_font_typewriter">oommf/boxsi.errors</span>.</p>
</div>
</dd>
<dt id="I1.ix4" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-loglevel level</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix4.p1" class="ltx_para">
<p class="ltx_p">Controls the detail level of log messages, with larger values of
<span class="ltx_text ltx_font_italic">level</span> producing more output. Default value is 1.</p>
</div>
</dd>
<dt id="I1.ix5" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-nice <math id="I1.ix5.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="I1.ix5.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix5.p1" class="ltx_para">
<p class="ltx_p">If enabled (i.e., 1), then the program will drop its scheduling
priority after startup. The default is 0, i.e., to retain its
original scheduling priority.</p>
</div>
</dd>
<dt id="I1.ix6" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-nocrccheck <math id="I1.ix6.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="I1.ix6.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix6.p1" class="ltx_para">
<p class="ltx_p">On simulation restarts, the CRC
<a href="sec_crc32.html" title="16.7 Cyclic Redundancy Check: crc32 ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref">CRC</a>
of the MIF file is normally compared against the CRC of the original
MIF file as recorded in the restart file. If the CRCs don’t match then
an error is thrown to alert the user that the MIF file has changed. If
this option is enabled (i.e., 1) then the check is disabled.</p>
</div>
</dd>
<dt id="I1.ix7" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-numanodes <math id="I1.ix7.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>nodes<math id="I1.ix7.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix7.p1" class="ltx_para">
<p class="ltx_p">This option is available on <a href="sec_install.parallel.html" title="2.3.4 Parallelization ‣ 2.3 Advanced Installation ‣ Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref">NUMA-aware</a> builds of Oxs. The <span class="ltx_text ltx_font_italic">nodes</span>
parameter must be either a comma separated list of 0-based node
numbers, the keyword “auto”, or the keyword “none”. In the first
case, the numbers refer to memory nodes. These must be passed on the
command line as a single parameter, so either insure there are no
spaces in the list, or else protect the spaces with outlying quotes.
For example, <span class="ltx_text ltx_font_typewriter">-numanodes 2,4,6</span> or <span class="ltx_text ltx_font_typewriter">-numanodes "2, 4, 6"</span>.
Threads are assigned to the nodes in order, in round-robin fashion.
The user can either assign all the system nodes to the <span class="ltx_text ltx_font_bold">Boxsi</span>
process, or may restrict <span class="ltx_text ltx_font_bold">Boxsi</span> to run on a subset of the nodes.
In this way the user may reserve specific processing cores for other
processes (or other instances of <span class="ltx_text ltx_font_bold">Boxsi</span>). Although it varies by
system, typically there are multiple processing cores associated with
each memory node. If the keyword “auto” is selected, then the
threads are assigned to a fixed node sequence that spans the entire
list of memory nodes. If the keyword “none” is selected, then
threads are not tied to nodes by <span class="ltx_text ltx_font_bold">Boxsi</span>, but are instead assigned
by the operating system. In this last case, over time the operating
system is free to move the threads among processors. In the other two
cases, each thread is tied to a particular node for the lifetime of
the <span class="ltx_text ltx_font_bold">Boxsi</span> instance. See also the discussion
on <span class="ltx_ref ltx_ref_self">threading considerations</span> below.</p>
</div>
<div id="I1.ix7.p2" class="ltx_para">
<p class="ltx_p">The default value for <span class="ltx_text ltx_font_italic">nodes</span> is “none”, which allows the
operating system to assign and move threads based on overall system
usage. This is also the behavior obtained when the Oxs build is not
NUMA-aware. On the other hand, if a machine is dedicated primarily
to running one instance of <span class="ltx_text ltx_font_bold">Boxsi</span>, then <span class="ltx_text ltx_font_bold">Boxsi</span> will
likely run fastest if the thread count is set to the number of
processing cores on the machine, and <span class="ltx_text ltx_font_italic">nodes</span> is set to
“auto”. If you want to run multiple copies of <span class="ltx_text ltx_font_bold">Boxsi</span>
simultaneously, or run <span class="ltx_text ltx_font_bold">Boxsi</span> in parallel with some other
application(s), then set the thread count to a number smaller than
the number of processing cores and restrict <span class="ltx_text ltx_font_bold">Boxsi</span> to some
subset of the memory nodes with the <span class="ltx_text ltx_font_typewriter">-numanodes</span> option and an
explicit nodes list.</p>
</div>
<div id="I1.ix7.p3" class="ltx_para">
<p class="ltx_p">The default behavior is modified (in increasing order of priority) by the
<span class="ltx_text ltx_font_typewriter">numanodes</span> setting in the active <span class="ltx_text ltx_font_typewriter">oommf/config/platform/</span> platform
file, by the <span class="ltx_text ltx_font_typewriter">numanodes</span> setting in the <span class="ltx_text ltx_font_typewriter">oommf/config/options.tcl</span>
or <span class="ltx_text ltx_font_typewriter">oommf/config/local/options.tcl</span> file, or by the environment variable
<span class="ltx_text ltx_font_typewriter">OOMMF_NUMANODES</span>. The
<span class="ltx_text ltx_font_typewriter">-numanodes</span> command line option, if any, overrides all.</p>
</div>
</dd>
<dt id="I1.ix8" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-outdir dir</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix8.p1" class="ltx_para">
<p class="ltx_p">Specifies the directory where output files are written by
<span class="ltx_text ltx_font_bold">mmArchive</span>. This option is useful when the default output
directory is inaccessible or slow. The environment variable
<span class="ltx_text ltx_font_typewriter">OOMMF_OUTDIR</span> sets the
default output directory. If <span class="ltx_text ltx_font_typewriter">OOMMF_OUTDIR</span> is set to the empty
string, or not set at all, then the default is the directory holding
the MIF file.</p>
</div>
</dd>
<dt id="I1.ix9" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-parameters params</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix9.p1" class="ltx_para">
<p class="ltx_p">Sets <a href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 2</a> file
parameters. The <span class="ltx_text ltx_font_italic">params</span> argument should be a list with an
even number of arguments, corresponding to name + value pairs. Each
“name” must appear in a
<a href="sec_mif2ExtensionCommands.html#html:mif2parameter" title="item Parameter ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Parameter</a>
statement (Sec. <a href="sec_mif2ExtensionCommands.html" title="17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.3.2</span></a>) in the input
MIF file. The entire name + value list must be quoted so it is
presented to <span class="ltx_text ltx_font_bold">Boxsi</span> as a single item on the command line. For
example, if <span class="ltx_text ltx_font_typewriter">A</span> and <span class="ltx_text ltx_font_typewriter">Ms</span> appeared in <span class="ltx_text ltx_font_typewriter">Parameter</span> statements
in the MIF file, then an option like
</p>
<pre class="ltx_verbatim ltx_font_typewriter">
   -parameters "A 13e-12 Ms 800e3"
</pre>
<p class="ltx_p">could be used to set <span class="ltx_text ltx_font_typewriter">A</span> to 13e-12 and Ms to 800e3. The quoting
mechanism is specific to the shell/operating system; refer to your system
documentation for details.</p>
</div>
</dd>
<dt id="I1.ix10" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-pause <math id="I1.ix10.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="I1.ix10.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix10.p1" class="ltx_para">
<p class="ltx_p">If enabled (i.e., 1), then the program automatically pauses after
loading the specified problem file. The default is 0, i.e., to
automatically move into “Run” mode once the problem is loaded.</p>
</div>
</dd>
<dt id="I1.ix11" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-regression_test flag</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix11.p1" class="ltx_para">
<p class="ltx_p">This option is used internally by the
<a href="sec_oxsregression.html" title="16.18 Oxs regression tests: oxsregression ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">oxsregression</a>
command line utility to run regression tests. Default value is 0 (no
test).</p>
</div>
</dd>
<dt id="I1.ix12" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-regression_testname basename</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix12.p1" class="ltx_para">
<p class="ltx_p">This option is used internally by the
<a href="sec_oxsregression.html" title="16.18 Oxs regression tests: oxsregression ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">oxsregression</a>
command line utility to control temporary file names during regression
testing.</p>
</div>
</dd>
<dt id="I1.ix13" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-restart <math id="I1.ix13.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">2<math id="I1.ix13.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix13.p1" class="ltx_para">
<p class="ltx_p">If the restart option is 0 (the default), then the problem loads and
runs from the beginning. If set to 1, then when loading the problem a
check is made for a pre-existing restart (checkpoint) file. If one is
found, then the problem resumes from the state saved in that file. If
no checkpoint file is found, then an error is raised. If the restart
option is set to 2, then a checkpoint file is used if one can be
found, but if not then the problem loads and runs from the beginning
without raising an error. See the Oxs_Driver
documentation for information on
<a href="sec_oxsDrivers.html#PToxsdrivercheckpoint" title="checkpoint ‣ item Oxs_TimeDriver: ‣ 7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">checkpoint files</a>.</p>
</div>
</dd>
<dt id="I1.ix14" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-restartfiledir dir</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix14.p1" class="ltx_para">
<p class="ltx_p">Specifies the directory where restart files are written.
The default is determined by the environment variable
<span class="ltx_text ltx_font_typewriter">OOMMF_RESTARTFILEDIR</span>,
or if this is not set then by
<span class="ltx_text ltx_font_typewriter">OOMMF_OUTDIR</span>. If
neither environment variable is set then the default is the
directory holding the MIF file. Write access is required to the
restart file directory. Also, you may want to consider whether the
restart files should be written to a local temporary directory or a
network mount.</p>
</div>
</dd>
<dt id="I1.ix15" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-threads <math id="I1.ix15.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>count<math id="I1.ix15.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix15.p1" class="ltx_para">
<p class="ltx_p">The option is available on <a href="sec_install.parallel.html" title="2.3.4 Parallelization ‣ 2.3 Advanced Installation ‣ Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref">threaded</a> builds of Oxs. The <span class="ltx_text ltx_font_italic">count</span>
parameter is the number of threads to run. The default count value is
set by the <span class="ltx_text ltx_font_typewriter">oommf_thread_count</span> value in
the <span class="ltx_text ltx_font_typewriter">config/platforms/</span> file for your platform, but may be
overridden by
the <span class="ltx_text ltx_font_typewriter">OOMMF_THREADS</span>
environment variable or this command line option. In most cases the
default count value will equal the number of processing cores on the
system; this can be checked via the command <span class="ltx_text ltx_font_typewriter">tclsh oommf.tcl
+platform</span>.</p>
</div>
</dd>
<dt id="I1.ix16" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">miffile</span></span></dt>
<dd class="ltx_item">
<div id="I1.ix16.p1" class="ltx_para">
<p class="ltx_p">Load and solve the problem found in <span class="ltx_text ltx_font_italic">miffile</span>, which must be
either in the MIF 2 format, or convertible to that format by
<a href="sec_mifconvert.html" title="16.12 MIF Format Conversion: mifconvert ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mifconvert</a>. Required.</p>
</div>
</dd>
</dl>
</div>
<div id="p6" class="ltx_para">
<p class="ltx_p">Although <span class="ltx_text ltx_font_bold">Boxsi</span> cannot be
launched by <span class="ltx_text ltx_font_bold">mmLaunch</span>, nonetheless
a limited graphical interactive interface for <span class="ltx_text ltx_font_bold">Boxsi</span> is provided
through <span class="ltx_text ltx_font_bold">mmLaunch</span>, in the same manner as is done for <span class="ltx_text ltx_font_bold">Oxsii</span>.
Each running instance of <span class="ltx_text ltx_font_bold">Boxsi</span> is included in the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Threads</span> list of <span class="ltx_text ltx_font_bold">mmLaunch</span>, along with a
checkbutton. This button toggles the presence of a user interface
window.</p>
</div>
<div id="p7" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Inputs
<br class="ltx_break"><span class="ltx_text" style="font-size:83%;">Boxsi</span></span> loads problem specifications directly from disk as
requested on the command line. The format for these files is
the <a href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 2</a> format,
the same as used by the <span class="ltx_text ltx_font_bold">Oxsii</span> interactive interface. The
<a href="sec_mif1format.html" title="17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 1.1</a> and
<a href="sec_mif12format.html" title="17.2 MIF 1.2 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 1.2</a>
formats used by the
2D solver <a href="sec_mmsolve2d.html" title="10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmSolve2D</a> can also be input
to <span class="ltx_text ltx_font_bold">Boxsi</span>, which will automatically call the command line tool
<a href="sec_mifconvert.html" title="16.12 MIF Format Conversion: mifconvert ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mifconvert</a> to convert from the MIF 1.x format to the
MIF 2 format “on-the-fly.” Sample MIF 2 files can be found in
the directory <span class="ltx_text ltx_font_typewriter">oommf/app/oxs/examples</span>.</p>
</div>
<div id="p8" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Outputs
<br class="ltx_break"></span>The lower panel of the <span class="ltx_text ltx_font_bold">Boxsi</span> interactive interface presents
Output, Destination, and Schedule sub-windows that display the current
output configuration and allow interactive modification of that
configuration. These controls are identical to those in the <span class="ltx_text ltx_font_bold">Oxsii</span>
user interface; refer to the
<a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_font_bold">Oxsii</span> documentation</a>
(Sec. <a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.1</span></a>) for details.
The only difference between <span class="ltx_text ltx_font_bold">Boxsi</span> and <span class="ltx_text ltx_font_bold">Oxsii</span> with
respect to outputs is that in practice <span class="ltx_text ltx_font_bold">Boxsi</span> tends to rely
primarily on
<a href="sec_mif2ExtensionCommands.html#html:destinationCmd" title="item Destination ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Destination</a> and
<a href="sec_mif2ExtensionCommands.html#html:scheduleCmd" title="item Schedule ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Schedule</a> commands in the input
MIF file (Sec. <a href="sec_mif2ExtensionCommands.html" title="17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.3.2</span></a>)
to setup the output configuration. The interactive output interface is
used for incidental runtime monitoring of the job.</p>
</div>
<div id="p9" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Controls
<br class="ltx_break"></span>The runtime controls provided by the <span class="ltx_text ltx_font_bold">Boxsi</span> interactive interface
are a restricted subset of those available in the <span class="ltx_text ltx_font_bold">Oxsii</span> interface.
If the runtime controls provided by <span class="ltx_text ltx_font_bold">Boxsi</span> are found to be
insufficient for a given task, consider using <span class="ltx_text ltx_font_bold">Oxsii</span> instead.</p>
</div>
<div id="p10" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span> menu holds 4 entries: Show Console, Close
Interface, Clear Schedule, and Exit Oxsii. <span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span><span class="ltx_text ltx_font_typewriter">|<span class="ltx_text ltx_font_sansserif ltx_font_bold">Show Console</span></span>
brings up a
Tcl shell console running off the <span class="ltx_text ltx_font_bold">Boxsi</span> interface Tcl interpreter. This console is intended primary for debugging purposes.
<span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span><span class="ltx_text ltx_font_typewriter">|<span class="ltx_text ltx_font_sansserif ltx_font_bold">Close Interface</span></span> will remove the interface window from
the display, but leaves the solver running. This effect may also be
obtained by deselecting the
<span class="ltx_text ltx_font_bold">Boxsi</span> interface button in the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Threads</span> list in
<a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmLaunch</a>.
<span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span><span class="ltx_text ltx_font_typewriter">|<span class="ltx_text ltx_font_sansserif ltx_font_bold">Clear Schedule</span></span> will disable all currently active
output schedules, exactly as if the user clicked through the interactive
schedule interface one output and destination at a time and disabled
each schedule-enabling checkbutton.
The final entry,
<span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span><span class="ltx_text ltx_font_typewriter">|<span class="ltx_text ltx_font_sansserif ltx_font_bold">Exit Boxsi</span></span>, terminates the <span class="ltx_text ltx_font_bold">Boxsi</span> solver and closes the
interface window. Note that there is no <span class="ltx_text ltx_font_sansserif ltx_font_bold">File</span><span class="ltx_text ltx_font_typewriter">|<span class="ltx_text ltx_font_sansserif ltx_font_bold">Load…</span></span>
menu item; the problem specification file must be declared on the
<span class="ltx_text ltx_font_bold">Boxsi</span> command line.</p>
</div>
<div id="p11" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_sansserif ltx_font_bold">Help</span> menu provides the usual help facilities.</p>
</div>
<div id="p12" class="ltx_para">
<p class="ltx_p">The row of buttons immediately below the menu bar provides simulation
progress control. These buttons—<span class="ltx_text ltx_font_sansserif ltx_font_bold">Run</span>, <span class="ltx_text ltx_font_sansserif ltx_font_bold">Relax</span>,
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Step</span> and <span class="ltx_text ltx_font_sansserif ltx_font_bold">Pause</span>—become active once the micromagnetic
problem has been initialized. These buttons allow the user to change the
run state of the solver. In the Pause state, the solver sits idle
awaiting further instructions. If <span class="ltx_text ltx_font_sansserif ltx_font_bold">Step</span> is selected, then the
solver will move forward one iteration and then Pause. In Relax mode,
the solver takes at least one step, and then runs until it reaches a
stage boundary, at which point the solver is paused. In Run mode, the
solver runs until the end of the problem is reached. When the problem
end is reached, the solver will either pause or exit, depending upon the
setting of the <span class="ltx_text ltx_font_typewriter">-exitondone</span> command line option.</p>
</div>
<div id="p13" class="ltx_para">
<p class="ltx_p">Normally the solver progresses automatically from problem initialization
into Run mode, but this can be changed by the <span class="ltx_text ltx_font_typewriter">-pause</span> command line
switch. Interactive output is available in all modes; the scheduled
outputs occur appropriately as the step and stage counts advance.</p>
</div>
<div id="p14" class="ltx_para">
<p class="ltx_p">Directly below the run state control buttons are three display lines,
showing the name of the input MIF file, the current run-state, and the
current stage number/maximum stage number. Both stage numbers are
0-indexed.</p>
</div>
<div id="p15" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Details
<br class="ltx_break"></span>As with <span class="ltx_text ltx_font_bold">Oxsii</span>, the simulation model construction is governed by
the Specify blocks in the input MIF file, and all aspects of the
simulation are determined by the specified
<a href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">Oxs_Ext classes</a>.
Refer to the appropriate Oxs_Ext class documentation for simulation and
computational details.</p>
</div>
<div id="p16" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Threading considerations
<br class="ltx_break"></span>
As an example, suppose you are running on a four dual-core processor
box, where each of the four processors is connected to a separate memory
node. In other words, there are eight cores in total, and each pair of
cores shares a memory node. Further assume that the processors are
connected via point-to-point links such as AMD’s HyperTransport or
Intel’s QuickPath Interconnect.</p>
</div>
<div id="p17" class="ltx_para">
<p class="ltx_p">If you want to run a single instance of <span class="ltx_text ltx_font_bold">Boxsi</span> as quickly as
possible, you might use the <span class="ltx_text ltx_font_typewriter">-threads 8</span> option, which, assuming the
default value of <span class="ltx_text ltx_font_typewriter">-numanodes none</span> is in effect, would allow the
operating system to schedule the eight threads among the system’s eight
cores as it sees fit. Or, you might reduce the thread count to reserve
one or more cores for other applications. If the job is long running,
however, you may find that the operating system tries to run multiple
threads on a single core—perhaps in order to leave other cores idle so
that they can be shut down to save energy. Or, the operating system may
move threads away from the memory node where they have allocated memory,
which effectively reduces memory bandwidth. In such cases you might want
to launch <span class="ltx_text ltx_font_bold">Boxsi</span> with the <span class="ltx_text ltx_font_typewriter">-numanodes auto</span> option. This
overrides the operating systems preferences, and ties threads to
particular memory nodes for the lifetime of the process. (On Linux
boxes, you should also check the “cpu frequency governor” and “huge page
support” selection and settings.)</p>
</div>
<div id="p18" class="ltx_para">
<p class="ltx_p">If you want to run two instances of <span class="ltx_text ltx_font_bold">Boxsi</span> concurrently, you might
launch each with the <span class="ltx_text ltx_font_typewriter">-threads 4</span> option, so that each job has four
threads for the operating system to schedule. If you don’t like the
default scheduling by the operating system, you can use the
<span class="ltx_text ltx_font_typewriter">-numanodes</span> option, but what you <span class="ltx_text ltx_font_bold">don’t</span> want to do is launch
two jobs with <span class="ltx_text ltx_font_typewriter">-numanodes auto</span>, because the “auto” option assigns
threads to memory nodes from a fixed sequence list, so both jobs will be
assigned to the same nodes. Instead, you should manually assign the
nodes, with a different set to each job. For example, you may launch
the first job with <span class="ltx_text ltx_font_typewriter">-numanodes 0,1</span> and the second job with
<span class="ltx_text ltx_font_typewriter">-numanodes 2,3</span>. One point to keep in mind when assigning nodes is
that some node pairs are “closer” (with respect to memory latency and
bandwidth) than others. For example, memory node 0 and memory node 1
may be directly connected via a point-to-point link, so that data can be
transferred in a single “hop.” But sending data from node 0 to node 2
may require two hops (from node 0 to node 1, and then from node 1 to
node 2). In this case <span class="ltx_text ltx_font_typewriter">-numanodes 0,1</span> will probably run faster than
<span class="ltx_text ltx_font_typewriter">-numanodes 0,2</span>.</p>
</div>
<div id="p19" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">-numanodes</span> option is only available on Linux boxes if the
“numactl” and “numactl-devel” packages are installed. The
<span class="ltx_text ltx_font_typewriter">numactl</span> command itself can be used to tie jobs to particular memory
nodes, similar to the <span class="ltx_text ltx_font_typewriter">boxsi -numanodes</span> option, except that
<span class="ltx_text ltx_font_typewriter">-numanodes</span> ties threads whereas <span class="ltx_text ltx_font_typewriter">numactl</span> ties jobs. The
<span class="ltx_text ltx_font_typewriter">numactl --hardware</span> command will tell you how many memory nodes are
in the system, and also reports a measure of the (memory latency and
bandwidth) distance between nodes. This information can be used in
selecting nodes for the <span class="ltx_text ltx_font_typewriter">boxsi -numanodes</span> option, but in
practice the distance information reported by <span class="ltx_text ltx_font_typewriter">numactl</span> is often not
reliable. For best results one should experiment with different
settings, or run memory bandwidth tests with different node
pairs.</p>
</div>
<div id="p20" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Batch Scheduling Systems
<br class="ltx_break"></span>OOMMF jobs submitted to a batch queuing system (e.g., Condor, PBS,
NQS) can experience sporadic failures caused by interactions between
separate OOMMF jobs running simultaneously on the same compute
node. These problems can be prevented by using the OOMMF command
line utility
<a href="sec_launchhost.html" title="16.10 Launching the OOMMF host server: launchhost ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">launchhost</a>
to isolate each job.</p>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.1 </span>OOMMF eXtensible Solver Interactive Interface:
Oxsii</span></a><a href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3 </span>Standard Oxs_Ext Child Classes</span></a><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a>
</div></footer>
</div>
</body>
</html>
