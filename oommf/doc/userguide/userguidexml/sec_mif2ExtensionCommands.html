<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>17.3.2 MIF 2.1 Extension Commands‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide</title>
<!--Generated by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on September 30, 2022.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="oommf.css" type="text/css">
<link rel="stylesheet" href="oommf-report.css" type="text/css">
<link rel="stylesheet" href="oommf-tweakfonts.css" type="text/css">
<link rel="stylesheet" href="oommf-navbar.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="up up" href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="up up up" href="userguide.html" title="OOMMF User’s Guide">
<link rel="start" href="userguide.html" title="OOMMF User’s Guide">
<link rel="prev" href="sec_mif2overview.html" title="17.3.1 MIF 2.1 File Overview ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="next" href="par_groupedLists.html" title="17.3.3 Specify Conventions ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_mif2overview.html" title="17.3.1 MIF 2.1 File Overview ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="subsection" href="par_groupedLists.html" title="17.3.3 Specify Conventions ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_varSubst.html" title="17.3.4 Variable Substitution ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_mif2sample.html" title="17.3.5 Sample MIF 2.1 File ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="section" href="sec_mif1format.html" title="17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="section" href="sec_mif12format.html" title="17.2 MIF 1.2 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="section" href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="section" href="sec_mif22format.html" title="17.4 MIF 2.2 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="section" href="sec_mif2tips.html" title="17.5 Tips for writing MIF 2.x files ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide">
<link rel="chapter" href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide">
<link rel="bibliography" href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide">
<link rel="index" href="index.html" title="Index ‣ OOMMF User’s Guide">
<meta name="keywords" lang="en" content="Destination command (MIF), MIF 2.1 Commands, Schedule command (MIF), Specify block (MIF), bitmap, file, instance name (MIF 2), nicknames">
</head>
<body>
<nav class="ltx_page_navbar"><a href="userguide.html" title="OOMMF User’s Guide" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">OOMMF User’s Guide</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Disclaimer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Overview of OOMMF</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Installation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Quick Start: Example OOMMF Session</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>OOMMF Architecture Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Command Line Launching</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>OOMMF Launcher/Control Interface: mmLaunch</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>OOMMF eXtensible Solver</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Micromagnetic Problem Editor: mmProbEd</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Micromagnetic Problem File Source: FileSource</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Data Table Display: mmDataTable</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Data Graph Display: mmGraph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Vector Field Display: mmDisp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Data Archive: mmArchive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Documentation Viewer: mmHelp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Command Line Utilities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter">
<a href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>Problem Specification File Formats (MIF)</span></a>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_mif1format.html" title="17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.1 </span>MIF 1.1</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_mif12format.html" title="17.2 MIF 1.2 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.2 </span>MIF 1.2</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3 </span>MIF 2.1</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_mif2overview.html" title="17.3.1 MIF 2.1 File Overview ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.1 </span>MIF 2.1 File Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection ltx_ref_self"><span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.2 </span>MIF 2.1 Extension Commands</span></span></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="par_groupedLists.html" title="17.3.3 Specify Conventions ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.3 </span>Specify Conventions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_varSubst.html" title="17.3.4 Variable Substitution ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.4 </span>Variable Substitution</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_mif2sample.html" title="17.3.5 Sample MIF 2.1 File ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.5 </span>Sample MIF 2.1 File</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_mif22format.html" title="17.4 MIF 2.2 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.4 </span>MIF 2.2</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_mif2tips.html" title="17.5 Tips for writing MIF 2.x files ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.5 </span>Tips for writing MIF 2.x files</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Data Table File Format (ODT)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Vector Field File Format (OVF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>Troubleshooting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">21 </span>Credits</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Bibliography</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="sec_mif2format.html" title="17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3 </span>MIF 2.1</span></a><a href="sec_mif2overview.html" title="17.3.1 MIF 2.1 File Overview ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.1 </span>MIF 2.1 File Overview</span></a><a href="par_groupedLists.html" title="17.3.3 Specify Conventions ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.3 </span>Specify Conventions</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_subsection ltx_authors_1line">
<h1 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.2 </span>MIF 2.1 Extension Commands</h1>

<div id="p1" class="ltx_para">
<p class="ltx_p">In addition to the standard Tcl commands (modulo the safe Tcl restrictions outlined above), a number of additional commands are
available in MIF 2.1 files:
<a href="#html:specifyCmd" title="item Specify ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Specify</a>,
<a href="#html:mif2ClearSpec" title="item ClearSpec ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">ClearSpec</a>,
<a href="#html:mif2datesort" title="item DateSort ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">DateSort</a>,
<a href="#html:destinationCmd" title="item Destination ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Destination</a>,
<a href="#html:GetStateData" title="item GetStateData ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">GetStateData</a>,
<a href="#html:mif2Ignore" title="item Ignore ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Ignore</a>,
<a href="#html:mif2oommfrootdir" title="item OOMMFRootDir ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">OOMMFRootDir</a>,
<a href="#html:mif2parameter" title="item Parameter ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Parameter</a>,
<a href="#html:mif2Random" title="item Random ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Random</a>,
<a href="#html:mif2randomseed" title="item RandomSeed ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">RandomSeed</a>,
<a href="#html:MifReport" title="item Report ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Report</a>,
<a href="#html:ReadFile" title="item ReadFile ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">ReadFile</a>,
<a href="#html:mif2rglob" title="item RGlob ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">RGlob</a>,
and <a href="#html:scheduleCmd" title="item Schedule ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Schedule</a>.</p>
</div>
<div id="p2" class="ltx_para">
<dl id="Ch17.S3.I2" class="ltx_description">
<dt id="html:specifyCmd" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Specify</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix1.p1" class="ltx_para">
<p class="ltx_p">An Oxs simulation is built as a collection of <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> (Oxs
Extension) objects. In general, <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> objects are specified and
initialized in the input MIF 2.1 file using the <span class="ltx_text ltx_font_typewriter">Specify</span> command,
making Specify blocks the primary component of the problem
definition. The <span class="ltx_text ltx_font_typewriter">Specify</span> command takes two arguments: the name of
the <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> object to create, and an <span class="ltx_text ltx_font_italic">initialization string</span>
that is passed to the <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> object during its construction.
The objects are created in the order in which they appear in the MIF file. Order is important in some cases; for example, if one <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span>
object refers to another in its initialization string, then the referred
to object must precede the referrer in the MIF file.</p>
</div>
<div id="Ch17.S3.I2.ix1.p2" class="ltx_para">
<p class="ltx_p">Here is a simple Specify block:
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
Specify Oxs_EulerEvolve:foo {
  alpha 0.5
  start_dm 0.01
}
</pre>
</blockquote>
<p class="ltx_p">The name of the new <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> object is “Oxs_EulerEvolve:foo.”
The first part of this name, up to the colon, is the the C++ class name of the object. This must be a child of the <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span>
class. Here, <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve</span> is a class that integrates the
Landau-Lifshitz ODE using a simple forward Euler method. The second
part of the name, i.e., the part following the colon, is
the <span class="ltx_text ltx_font_italic">instance name</span> for
this particular instance of the object. In general, it is possible to
have multiple instances of an <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> child class in a simulation,
but each instance must have a unique name. These names are used for
identification by output routines, and to allow one Specify block to
refer to another Specify block appearing earlier in the MIF file. If
the second part of the name is not given, then as a default the empty
string is appended. For example, if instead of “Oxs_EulerEvolve:foo”
above the name was specified as just “Oxs_EulerEvolve”, then the
effective full name of the created object would be
“Oxs_EulerEvolve:”.</p>
</div>
<div id="Ch17.S3.I2.ix1.p3" class="ltx_para">
<p class="ltx_p">The second argument to the <span class="ltx_text ltx_font_typewriter">Specify</span> command, here everything between
the curly braces, is a string that is interpreted by the new
<span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> (child) object in its constructor. The format of this
string is up to the designer of the child class, but there are a number
of conventions that designers are encouraged to follow. These
conventions are described in
<a href="par_groupedLists.html" title="17.3.3 Specify Conventions ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">Specify Conventions</a> below.</p>
</div>
</dd>
<dt id="html:mif2ClearSpec" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">ClearSpec</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix2.p1" class="ltx_para">
<p class="ltx_p">This command is used to disable one or all preceding <span class="ltx_text ltx_font_typewriter">Specify</span>
commands. In particular, one could use <span class="ltx_text ltx_font_typewriter">ClearSpec</span> to nullify a
Specify block from a base MIF file that was imported using the
<span class="ltx_text ltx_font_typewriter">ReadFile</span> command. Sample usage is
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
ClearSpec Oxs_EulerEvolve:foo
</pre>
</blockquote>
<p class="ltx_p">where the parameter is the full name (here <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve:foo</span>) of
the Specify block to remove. If no parameter is given, then all
preceding Specify blocks are removed.</p>
</div>
</dd>
<dt id="html:mif2datesort" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">DateSort</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix3.p1" class="ltx_para">
<p class="ltx_p">Given a list of filenames, returns the list sorted by modification
time, with oldest first. The files must all exist. Sample usage is
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
set last_omf [lindex [DateSort [RGlob *omf]] end]
</pre>
</blockquote>
<p class="ltx_p">Here <span class="ltx_text ltx_font_typewriter">last_omf</span> will be set to the <span class="ltx_text ltx_font_typewriter">*.omf</span> file in the current
directory with the most recent modification time.</p>
</div>
</dd>
<dt id="html:destinationCmd" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Destination</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix4.p1" class="ltx_para">
<p class="ltx_p">The format for the <span class="ltx_text ltx_font_typewriter">Destination</span> command is
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
Destination &lt;desttag&gt; &lt;appname&gt; [new]
</pre>
</blockquote>
<p class="ltx_p">This command associates a symbolic <span class="ltx_text ltx_font_italic">desttag</span> with an
application. The tags are used by the
<a href="#html:scheduleCmd" title="item Schedule ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Schedule</a> command (see below)
to refer to specific application instances. The <span class="ltx_text ltx_font_italic">appname</span> may
either be an OOMMF application name, e.g., mmDisp, or else a
specific application instance in the form application:nickname, such
as mmDisp:Spock. In the first case, the tag is associated with the
running instance of the requested application (here <span class="ltx_text ltx_font_typewriter">mmDisp</span>) with
the lowest OOMMF ID (OID) that has not yet been associated with
another tag. If no running application can be found that meets these
criteria, then a new instance of the application is launched.</p>
</div>
<div id="Ch17.S3.I2.ix4.p2" class="ltx_para">
<p class="ltx_p">If the <span class="ltx_text ltx_font_italic">appname</span> refers to a specific application instance, then
the tag is associated with the running instance of the application (say
<span class="ltx_text ltx_font_bold">mmDisp</span>) that has been assigned the specified nickname. Name
matching is case insensitive. If there is no running copy of the
application meeting this condition, then a new instance of the
application is launched and it is assigned the specified nickname. The
OOMMF <a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref">account service directory</a> guarantees
that there is never more than one instance of an application with a
given nickname. However, as with the object name in the <span class="ltx_text ltx_font_typewriter">Specify</span>
command, instances of two different applications, e.g., <span class="ltx_text ltx_font_bold">mmDisp</span> and
<span class="ltx_text ltx_font_bold">mmGraph</span>, are allowed to share nicknames, because their full
instance names, say mmDisp:Spock and mmGraph:Spock, are unique.</p>
</div>
<div id="Ch17.S3.I2.ix4.p3" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Destination</span> commands are processed in the order in which they
appear in the the MIF file. No <span class="ltx_text ltx_font_italic">desttag</span> may appear in more
than one <span class="ltx_text ltx_font_typewriter">Destination</span> command, and no two destination tags may refer
to the same application instance. To insure the latter, the user is
advised to place all <span class="ltx_text ltx_font_typewriter">Destination</span> commands referring to specific
instances (e.g., mmDisp:Spock) before any <span class="ltx_text ltx_font_typewriter">Destination</span> commands
using generic application references (e.g., mmDisp). Otherwise a
generic reference might be associated to a running application holding a
nickname that is referenced by a later <span class="ltx_text ltx_font_typewriter">Destination</span> command.</p>
</div>
<div id="Ch17.S3.I2.ix4.p4" class="ltx_para">
<p class="ltx_p">The tag association by the <span class="ltx_text ltx_font_typewriter">Destination</span> command is only known to the
solver reading the MIF file. In contrast, assigned instance nicknames
are recognized across applications. In particular, multiple solvers may
reference the same running application by nickname. For example,
several sequential solver runs could send stage output to the same
<span class="ltx_text ltx_font_bold">mmGraph</span> widget, to build up overlapping hysteresis loops.</p>
</div>
<div id="Ch17.S3.I2.ix4.p5" class="ltx_para">
<p class="ltx_p">The last parameter to the Destination command is the optional
<span class="ltx_text ltx_font_typewriter">new</span> keyword. If present, then a fresh copy of the requested
application is always launched for association with the given tag. The
<span class="ltx_text ltx_font_typewriter">new</span> option can be safely used with any generic application
reference, but caution must be taken when using this option with
specific instance references, because an error is raised if the
requested nickname is already in use.</p>
</div>
</dd>
<dt id="html:GetStateData" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">GetStateData</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix5.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">GetStateData</span> command retrieves data attached to a specific
magnetization state:
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
GetStateData [-glob|-exact|-regexp] [-pairs] [--] &lt;state_id&gt; \
             [pattern ...]
</pre>
</blockquote>
<p class="ltx_p">The data associated with a state are stored as key-value pairs.
If no patterns are specified then <span class="ltx_text ltx_font_typewriter">GetStateData</span> returns the list of
keys available for the given state. If one or more patterns are
specified, then all values with keys matching some pattern are
collected. If the <span class="ltx_text ltx_font_typewriter">-pairs</span> option is specified then the return is an
even length list of keys and values interleaved. If <span class="ltx_text ltx_font_typewriter">-pairs</span> is not
specified then the return is a list of just the values. The values are
returned in key-match order. Key matching style is controlled by the
first slate of options, with default being glob. Two hyphens may be
used to denote the end of options.</p>
</div>
<div id="Ch17.S3.I2.ix5.p2" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">state_id</span> is a positive integer identifying the state. This is
generally obtained via a <span class="ltx_text ltx_font_typewriter">script_args</span> option in the
<span class="ltx_text ltx_font_typewriter">Specify</span> block of a conforming <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span> object. For example,
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
proc SpinMag { stage_time state_id } {
   lassign [GetStateData $state_id *:Mx *:My *:Mz] Mx My Mz
   ...
}
Specify Oxs_ScriptUZeeman {
  script SpinMag
  script_args {stage_time base_state_id}
}
</pre>
</blockquote>
<p class="ltx_p">Typically two states may be accessed this way: the step base state
and a candidate (test) state. The former, accessed
as <span class="ltx_text ltx_font_typewriter">base_state_id</span>, corresponds to the last valid, accepted
magnetization state. The latter, accessed as <span class="ltx_text ltx_font_typewriter">current_state_id</span>,
is the latest working state from the evolver object. In some cases
these two states may coincide.</p>
</div>
<div id="Ch17.S3.I2.ix5.p3" class="ltx_para">
<p class="ltx_p">The keys associated with a state vary with the details of the
simulation. The following keys are always available:
</p>
<blockquote class="ltx_quote">
<table class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">state_id</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">previous_state_id</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">iteration_count</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">stage_number</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">stage_iteration_count</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">stage_start_time</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">stage_elapsed_time</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">total_elapsed_time</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">last_timestep</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">step_done</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">stage_done</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">run_done</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">max_absMs</span></td>
<td class="ltx_td"></td>
<td class="ltx_td"></td>
</tr>
</tbody>
</table>
</blockquote>
<p class="ltx_p">Times are in seconds, the <span class="ltx_text ltx_font_typewriter">step</span>/<span class="ltx_text ltx_font_typewriter">stage</span>/<span class="ltx_text ltx_font_typewriter">run_done</span> values are
one of 1 (done), 0 (not done) or -1 (not yet determined),
and <span class="ltx_text ltx_font_typewriter">max_absMs</span> is in A/m.</p>
</div>
<div id="Ch17.S3.I2.ix5.p4" class="ltx_para">
<p class="ltx_p">Additional key-value pairs may be attached to a state by <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span>
objects. For example,
<a href="sec_oxsEvolvers.html#html:RungeKuttaEvolve" title="item Oxs_RungeKuttaEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_RungeKuttaEvolve</a>
adds the average magnetization <math id="Ch17.S3.I2.ix5.p4.m1" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math>-component under the key name
<span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve:<math id="Ch17.S3.I2.ix5.p4.m2" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="normal">&lt;</mo></math>instance_name<math id="Ch17.S3.I2.ix5.p4.m3" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="normal">&gt;</mo></math>:Mx</span>.
(Here <math id="Ch17.S3.I2.ix5.p4.m4" class="ltx_Math" alttext="&lt;" display="inline"><mo>&lt;</mo></math><span class="ltx_text ltx_font_typewriter">instance_name<math id="Ch17.S3.I2.ix5.p4.m5" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="normal">&gt;</mo></math></span> is the instance name of the
object; this is typically an empty string or something like
“evolver”.) See the documentation for the various <span class="ltx_text ltx_font_typewriter">Oxs_Ext</span>
objects for details.</p>
</div>
<div id="Ch17.S3.I2.ix5.p5" class="ltx_para">
<p class="ltx_p">Moreover, the keys available for a state may depend on the simulation
status or processing step. In particular, the current state indexed
by <span class="ltx_text ltx_font_typewriter">current_state_id</span> typically only has the default keys from the
table above available. For this reason, and additionally because
the <span class="ltx_text ltx_font_typewriter">current_state_id</span> is only a test state that may be rejected,
user scripts should generally avoid using data tied to the current state
in favor of data collected from the base state. Likewise, the available
keys may be different for a state (even a base state) marking the start
of a new stage as compared to states arising inside a stage. In case of
problems, a <span class="ltx_text ltx_font_typewriter">Report</span> command inside a script proc can be used to
dump state information to the Oxsii console, for example,
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
proc SpinMag { stage_time state_id } {
   Report "State $state_id, Keys: [GetStateData $base_state_id]"
   lassign [GetStateData $state_id *:Mx *:My *:Mz] Mx My Mz
   ...
}
</pre>
</blockquote>
<p class="ltx_p">or
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
proc SpinMag { stage_time state_id } {
   set report {}
   foreach {key value} [GetStateData $state_id *] {
      append report [format "%42s : $value\n" $key]
   }
   Report "--- State data ---\n$report"
   lassign [GetStateData $state_id *:Mx *:My *:Mz] Mx My Mz
   ...
}
</pre>
</blockquote>
</div>
<div id="Ch17.S3.I2.ix5.p6" class="ltx_para">
<p class="ltx_p">For example use of <span class="ltx_text ltx_font_typewriter">GetStateData</span>, see the sample files
<span class="ltx_text ltx_font_typewriter">spinmag.mif</span> and <span class="ltx_text ltx_font_typewriter">spinmag2.mif</span> in the
directory <span class="ltx_text ltx_font_typewriter">oommf/app/oxs/examples/</span>.</p>
</div>
</dd>
<dt id="html:mif2Ignore" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Ignore</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix6.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Ignore</span> command takes an arbitrary number of arguments, which
are thrown away without being interpreted. The primary use of
<span class="ltx_text ltx_font_typewriter">Ignore</span> is to temporarily “comment out” (i.e., disable) Specify
blocks.</p>
</div>
</dd>
<dt id="html:mif2oommfrootdir" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">OOMMFRootDir</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix7.p1" class="ltx_para">
<p class="ltx_p">This command takes no arguments, and returns the full directory path of
the OOMMF root directory. This is useful in conjunction with the
<span class="ltx_text ltx_font_typewriter">ReadFile</span> command for locating files within the OOMMF hierarchy,
and can also be used to place output files. File paths must be created
directly since the Tcl <span class="ltx_text ltx_font_typewriter">file</span> command is not accessible inside safe
interpreters. For example
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
set outfile [OOMMFRootDir]/data/myoutput
</pre>
</blockquote>
<p class="ltx_p">In this context one should always use Tcl path conventions. In
particular, use forward slashes, “<span class="ltx_text ltx_font_typewriter">/</span>”, to separate directories.</p>
</div>
</dd>
<dt id="html:mif2parameter" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Parameter</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix8.p1" class="ltx_para">
<p class="ltx_p">The Oxs interfaces
(<a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">Oxsii</a> and
<a href="html_threadconsider.html" title="7.2 OOMMF eXtensible Solver Batch Interface: boxsi ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">Boxsi</a>)
allow specified variables in the MIF file to be set from the command
line via the <span class="ltx_text ltx_font_typewriter">-parameters</span> option. This functionality is enabled
inside the MIF file via the <span class="ltx_text ltx_font_typewriter">Parameter</span> command:</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">Parameter</span> <span class="ltx_text ltx_font_italic">varname</span> <span class="ltx_text ltx_font_italic">optional_default_value</span></p>
</blockquote>
<p class="ltx_p">Here <span class="ltx_text ltx_font_italic">varname</span> is the name of a variable that may be set from
the command line. If it is not set on the command line then the
variable is set to the optional default value, if any, or otherwise an
error is raised. An error is also raised if a variable set on the
command line does not have a corresponding <span class="ltx_text ltx_font_typewriter">Parameter</span> command in the
MIF file. See also the notes on
<a href="sec_varSubst.html" title="17.3.4 Variable Substitution ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">variable substitution</a> below.</p>
</div>
</dd>
<dt id="html:mif2Random" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Random</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix9.p1" class="ltx_para">
<p class="ltx_p">Returns a pseudo-random number in the interval <math id="Ch17.S3.I2.ix9.p1.m1" class="ltx_Math" alttext="[0,1]" display="inline"><mrow><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></math>, using a
C-library random number generator. This random number generator is
specified by the <span class="ltx_text ltx_font_typewriter">OMF_RANDOM</span> macro in the <span class="ltx_text ltx_font_typewriter">ocport.h</span> file found in
the system-specific subdirectory of <span class="ltx_text ltx_font_typewriter">oommf/pkg/oc/</span>. The standard
Tcl <span class="ltx_text ltx_font_typewriter">expr rand()</span> command is also available.</p>
</div>
</dd>
<dt id="html:mif2randomseed" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">RandomSeed</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix10.p1" class="ltx_para">
<p class="ltx_p">Initializes both the Tcl and the C-library random number generators.
If no parameter is given, then a seed is drawn from the system clock.
Otherwise, one integer parameter may be specified to be used as the
seed.</p>
</div>
</dd>
<dt id="html:MifReport" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Report</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix11.p1" class="ltx_para">
<p class="ltx_p">Intended primarily as a MIF debugging aid, <span class="ltx_text ltx_font_typewriter">Report</span> takes one
string argument that is printed to the solver interface console and the
Oxs log file. It is essentially a replacement for the standard Tcl <span class="ltx_text ltx_font_typewriter">puts</span> command, which is not available in safe interpreters.</p>
</div>
</dd>
<dt id="html:ReadFile" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">ReadFile</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix12.p1" class="ltx_para">
<p class="ltx_p">The Tcl <span class="ltx_text ltx_font_typewriter">read</span> command is absent from safe interpreters. The
<span class="ltx_text ltx_font_typewriter">ReadFile</span> command is introduced as a replacement available in
“custom” and “unsafe” interpreters. <span class="ltx_text ltx_font_typewriter">ReadFile</span> takes two
arguments, the file to be read and an optional translation
specification. The file may either be specified with an absolute path,
i.e., one including all its directory components, or with a relative
path interpreted with respect to the directory containing the MIF file. The <span class="ltx_text ltx_font_typewriter">OOMMFRootDir</span> command can be used to advantage to locate
files in other parts of the OOMMF directory tree.</p>
</div>
<div id="Ch17.S3.I2.ix12.p2" class="ltx_para">
<p class="ltx_p">The translation specification should be one of <span class="ltx_text ltx_font_typewriter">binary</span>, <span class="ltx_text ltx_font_typewriter">auto</span>
(the default), <span class="ltx_text ltx_font_typewriter">image</span> or <span class="ltx_text ltx_font_typewriter">floatimage</span>. The
first two translation modes provide the functionality of the
<span class="ltx_text ltx_font_typewriter">-translation</span> option of the Tcl <span class="ltx_text ltx_font_typewriter">fconfigure</span> command. Refer to
the Tcl documentation for details. Specifying <span class="ltx_text ltx_font_typewriter">image</span> causes the
input file to be read as an image file. The file will be read
directly if it in the PPM P3 (text), PPM P6 (binary), or uncompressed
BMP formats; otherwise it is filtered through the OOMMF <a href="sec_any2ppm.html" title="16.1 Bitmap File Format Conversion: any2ppm ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">any2ppm</a>
program. (Note that <span class="ltx_text ltx_font_bold">any2ppm</span> requires Tk, and Tk requires a
display.) The input file is converted into a string that mimics a PPM
P3 text file, minus the leading “P3”. In particular, after conversion
the first 3 whitespace separated values are image width, height and
maxvalue, followed by an array of 3 <math id="Ch17.S3.I2.ix12.p2.m1" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math> width <math id="Ch17.S3.I2.ix12.p2.m2" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math> height
values, where each triplet corresponds to the red, green and blue
components of an image pixel, sequenced in normal English reading order.
Each component is in the range <math id="Ch17.S3.I2.ix12.p2.m3" class="ltx_Math" alttext="[0,maxvalue]" display="inline"><mrow><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mrow><mi>m</mi><mo>⁢</mo><mi>a</mi><mo>⁢</mo><mi>x</mi><mo>⁢</mo><mi>v</mi><mo>⁢</mo><mi>a</mi><mo>⁢</mo><mi>l</mi><mo>⁢</mo><mi>u</mi><mo>⁢</mo><mi>e</mi></mrow><mo stretchy="false">]</mo></mrow></math>. This output contains no
comments, and may be treated directly as a Tcl list. The
<span class="ltx_text ltx_font_typewriter">floatimage</span> option is very similar to the <span class="ltx_text ltx_font_typewriter">image</span> option, except
that the third value (i.e., maxvalue) in the resulting string is always
“1”, and the succeeding red, green and blue values are floating point
values in the range <math id="Ch17.S3.I2.ix12.p2.m4" class="ltx_Math" alttext="[0,1]" display="inline"><mrow><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></math>.</p>
</div>
<div id="Ch17.S3.I2.ix12.p3" class="ltx_para">
<p class="ltx_p">In all cases, the return value from the <span class="ltx_text ltx_font_typewriter">ReadFile</span> command is a
string corresponding to the contents of the (possibly translated) file.
For example,
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
eval [ReadFile extra_mif_commands.tcl]
</pre>
</blockquote>
<p class="ltx_p">can be used to embed a separate Tcl file into a MIF 2.1 file.</p>
</div>
<div id="Ch17.S3.I2.ix12.p4" class="ltx_para">
<p class="ltx_p">Here’s a more complicated example that uses a color image file to
create a vector field:
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
set colorimage [ReadFile mirror.ppm floatimage]
set imagewidth [lindex $colorimage 0]
set imageheight [lindex $colorimage 1]
set imagedepth [lindex $colorimage 2] ;# Depth value should be 1
if {$imagedepth != 1} {
   Report "ReadFile returned unexpected list value."
}

proc ColorField { x y z } {
     global colorimage imagewidth imageheight
     set i [expr {int(floor(double($x)*$imagewidth))}]
     if {$i&gt;=$imagewidth} {set i [expr {$imagewidth-1}]}
     set j [expr {int(floor(double(1-$y)*$imageheight))}]
     if {$j&gt;=$imageheight} {set j [expr {$imageheight-1}]}
     set index [expr {3*($j*$imagewidth+$i)+3}]  ;# +3 is to skip header
     set vx [expr {2*[lindex $colorimage $index]-1}] ; incr index  ;# Red
     set vy [expr {2*[lindex $colorimage $index]-1}] ; incr index  ;# Green
     set vz [expr {2*[lindex $colorimage $index]-1}] ; incr index  ;# Blue
     return [list $vx $vy $vz]
}

Specify Oxs_ScriptVectorField:sample {
   atlas :atlas
   norm 1.0
   script ColorField
}
</pre>
</blockquote>
<p class="ltx_p">If the input image is large, then it is best to work with the image list
(i.e., the variable <span class="ltx_text ltx_font_typewriter">colorimage</span> in the preceding example) directly,
as illustrated above. The image list as returned by <span class="ltx_text ltx_font_typewriter">ReadFile</span> is in
a packed format; if you make modifications to the list values then the
memory footprint of the list can grow substantially.</p>
</div>
<div id="Ch17.S3.I2.ix12.p5" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">ReadFile</span> command is not available if the <span class="ltx_text ltx_font_typewriter">MIFinterp safety</span>
option is set to <span class="ltx_text ltx_font_typewriter">safe</span> in the <span class="ltx_text ltx_font_typewriter">options.tcl</span>
<a href="sec_install.custom.html" title="2.3.2 Local Customizations ‣ 2.3 Advanced Installation ‣ Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref">customization file</a>.</p>
</div>
</dd>
<dt id="html:mif2rglob" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">RGlob</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix13.p1" class="ltx_para">
<p class="ltx_p">This command is modeled on the Tcl <span class="ltx_text ltx_font_typewriter">glob</span> command (q.v.), but
is restricted to the current working directory, that is, the
directory holding the MIF file. The syntax is
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
RGlob [-types typelist] [--] &lt;pattern&gt; [...]
</pre>
</blockquote>
<p class="ltx_p">The optional <span class="ltx_text ltx_font_typewriter">typelist</span> restricts the match to files meeting the
typelist criteria. The optional <code class="ltx_verbatim ltx_font_typewriter">--</code> switch marks the end of
options. The one or more <span class="ltx_text ltx_font_typewriter">pattern</span>’s should be glob-style
patterns (strings containing asterisks and question marks) intended to
match filenames in the current working directory. See the Tcl <span class="ltx_text ltx_font_typewriter">glob</span> documentation for details on the <span class="ltx_text ltx_font_typewriter">-types</span> option and
glob pattern details.</p>
</div>
<div id="Ch17.S3.I2.ix13.p2" class="ltx_para">
<p class="ltx_p">One use of this command is to identify files created by earlier runs of
Oxs. For example, suppose we wanted to use the mmArchive magnetization
output from the third stage of a previous MIF file with basename “sample”.
Output files are tagged by stage number (here “2” since stages are
counted from 0) and iteration. The iteration is generally not known a
priori, but assuming the output files are in the same directory as the
current MIF file, we could use a command like
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
set file [RGlob sample-Oxs_MinDriver-Magnetization-02-???????.omf]
</pre>
</blockquote>
<p class="ltx_p">to determine the name of the magnetization file. If more than one
magnetization state was saved for that stage, then the variable
<span class="ltx_text ltx_font_typewriter">file</span> will hold a list of filenames. In this case the Tcl <span class="ltx_text ltx_font_typewriter">lsort</span>
command can be used to select the one with the highest iteration number.
The <span class="ltx_text ltx_font_typewriter">file</span> variable can be used in conjunction with the
<a href="sec_oxsFieldObjects.html#item:FileVectorField" title="item Oxs_FileVectorField: ‣ 7.3.6 Field Objects ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_FileVectorField</a>
class to import the magnetization into the new simulation, for example
to set the initial magnetization configuration.
</p>
</div>
<div id="Ch17.S3.I2.ix13.p3" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">RGlob</span> command is not available if the <span class="ltx_text ltx_font_typewriter">MIFinterp safety</span>
option is set to <span class="ltx_text ltx_font_typewriter">safe</span> in the <span class="ltx_text ltx_font_typewriter">options.tcl</span>
<a href="sec_install.custom.html" title="2.3.2 Local Customizations ‣ 2.3 Advanced Installation ‣ Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref">customization file</a>. If <span class="ltx_text ltx_font_typewriter">MIFinterp safety</span> is set to
<span class="ltx_text ltx_font_typewriter">unsafe</span>, then the standard (and more capable) Tcl <span class="ltx_text ltx_font_typewriter">glob</span> command will be available.</p>
</div>
</dd>
<dt id="html:scheduleCmd" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Schedule</span></span></dt>
<dd class="ltx_item">
<div id="Ch17.S3.I2.ix14.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Schedule</span> command is used to setup outputs from the MIF file.
This functionality is critical for solvers running in batch mode, but is
also useful for setting up default connections in interactive mode.</p>
</div>
<div id="Ch17.S3.I2.ix14.p2" class="ltx_para">
<p class="ltx_p">The syntax for the <span class="ltx_text ltx_font_typewriter">Schedule</span> command is
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
Schedule &lt;outname&gt; &lt;desttag&gt; &lt;event&gt; &lt;frequency&gt;
</pre>
</blockquote>
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Schedule</span> command mirrors the interactive output scheduling
provided by the
<a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">Oxsii</a> and
<a href="html_threadconsider.html" title="7.2 OOMMF eXtensible Solver Batch Interface: boxsi ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">Boxsi</a>
graphical interfaces (Ch. <a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>). The first parameter
to the <span class="ltx_text ltx_font_typewriter">Schedule</span> command is the name of the output being scheduled.
These names are the same as those appearing in the “Outputs” list in
the Oxs graphical interfaces, for example “DataTable” or
“Oxs_CubicAnisotropy:Nickel:Field.” The name must be presented to
the <span class="ltx_text ltx_font_typewriter">Schedule</span> command as a single argument; if the name includes one
or more spaces then use double quotes to protect the spaces. Aside from
the DataTable output which is always present, the
<span class="ltx_text ltx_font_italic">outname</span>’s are MIF file dependent.</p>
</div>
<div id="Ch17.S3.I2.ix14.p3" class="ltx_para">
<p class="ltx_p">The second parameter to the <span class="ltx_text ltx_font_typewriter">Schedule</span> command is a destination tag.
This is a tag associated to a running application by a previous
<a href="#html:destinationCmd" title="item Destination ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_font_typewriter">Destination</span> command</a> (see
above). The symbolic destination tag replaces the application:OID
nomenclature used in the graphical interface, because in general it is
not possible to know the OOMMF ID for application instances at the
time the MIF file is composed. In fact, some of the applications may
be launched by <span class="ltx_text ltx_font_typewriter">Destination</span> commands, and so don’t even have OID’s
at the time the <span class="ltx_text ltx_font_typewriter">Destination</span> command is processed.</p>
</div>
<div id="Ch17.S3.I2.ix14.p4" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_italic">event</span> parameter should be one of the keywords <span class="ltx_text ltx_font_typewriter">Step</span>,
<span class="ltx_text ltx_font_typewriter">Stage</span>, or <span class="ltx_text ltx_font_typewriter">Done</span>. For <span class="ltx_text ltx_font_typewriter">Step</span> and <span class="ltx_text ltx_font_typewriter">Stage</span> events the
<span class="ltx_text ltx_font_italic">frequency</span> parameter should be a non-negative integer, representing
with what frequency of the specified event should output be dispatched.
For example, if <span class="ltx_text ltx_font_typewriter">Step 5</span> is given, then on every fifth step of the
solver (iterations 0, 5, 10, …) output of the indicated type will
be sent to the selected destination. Set <span class="ltx_text ltx_font_italic">frequency</span> to 1 to
send output each time the event occurs. A value of 0
for <span class="ltx_text ltx_font_italic">frequency</span> results in output on only the very first event of
that type; in particular, <span class="ltx_text ltx_font_typewriter">Step 0</span> will output the simulation initial
state, but will not fire on any subsequent <span class="ltx_text ltx_font_typewriter">Step</span> events.
The <span class="ltx_text ltx_font_typewriter">Done</span> event occurs at the successful completion of a simulation;
as such, there is at most one “Done” event per simulation.
Accordingly, the <span class="ltx_text ltx_font_italic">frequency</span> parameter for <span class="ltx_text ltx_font_typewriter">Done</span> events is
optional; if present it should be the value 1.</p>
</div>
<div id="Ch17.S3.I2.ix14.p5" class="ltx_para">
<p class="ltx_p">There are examples of scheduling with the <span class="ltx_text ltx_font_typewriter">Destination</span> and
<span class="ltx_text ltx_font_typewriter">Schedule</span> commands in the <a href="sec_mif2sample.html#fig:mif2sample" title="Figure 17.2 ‣ 17.3.5 Sample MIF 2.1 File ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">sample MIF 2.1
file</a>
(Sec. <a href="sec_mif2sample.html" title="17.3.5 Sample MIF 2.1 File ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.3.5</span></a>,
pages <a href="sec_mif2sample.html" title="17.3.5 Sample MIF 2.1 File ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.3.5</span></a>–<a href="sec_mif2sample.html#fig:mif2sample" title="Figure 17.2 ‣ 17.3.5 Sample MIF 2.1 File ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.2</span></a>). There,
three destinations are tagged. The first refers to a possibly already
running instance of <span class="ltx_text ltx_font_bold">mmGraph</span>, having nickname Hysteresis. The
associated <span class="ltx_text ltx_font_typewriter">Schedule</span> command sends DataTable output to this
application at the end of each Stage, so hysteresis graphs can be
produced. The second destination tag references a different copy of
<span class="ltx_text ltx_font_bold">mmGraph</span> that will be used for monitoring the run. To make sure
that this output is rendered onto a blank slate, the <span class="ltx_text ltx_font_typewriter">new</span>
keyword is used to launch a fresh copy of <span class="ltx_text ltx_font_bold">mmGraph</span>. The
<span class="ltx_text ltx_font_typewriter">Schedule</span> command for the monitor destination delivers output to
the monitoring <span class="ltx_text ltx_font_bold">mmGraph</span> every 5 iterations of the solver. The last
<span class="ltx_text ltx_font_typewriter">Destination</span> command tags an arbitrary <span class="ltx_text ltx_font_bold">mmArchive</span> application,
which is used for file storage of DataTable results at the end of each
stage, and snapshots of the magnetization and total field at the end of
every third stage. Note that double quotes enclose the
“Oxs_EulerEvolve::Total field” output name. Without the quotes, the
<span class="ltx_text ltx_font_typewriter">Schedule</span> command would see five arguments,
“Oxs_EulerEvolve::Total”, “field”, “archive”, “Stage”, and
“3”.</p>
</div>
</dd>
</dl>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="sec_mif2overview.html" title="17.3.1 MIF 2.1 File Overview ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.1 </span>MIF 2.1 File Overview</span></a><a href="par_groupedLists.html" title="17.3.3 Specify Conventions ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.3 </span>Specify Conventions</span></a><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a>
</div></footer>
</div>
</body>
</html>
