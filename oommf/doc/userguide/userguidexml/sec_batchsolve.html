<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>10.2.1 2D Micromagnetic Solver Batch Interface: batchsolve‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide</title>
<!--Generated by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on September 30, 2022.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="oommf.css" type="text/css">
<link rel="stylesheet" href="oommf-report.css" type="text/css">
<link rel="stylesheet" href="oommf-tweakfonts.css" type="text/css">
<link rel="stylesheet" href="oommf-navbar.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="up up" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="up up up" href="userguide.html" title="OOMMF User’s Guide">
<link rel="start" href="userguide.html" title="OOMMF User’s Guide">
<link rel="prev" href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="next" href="sec_mmsolveBSS.html" title="10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_mmsolveBSS.html" title="10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_mmsolve2d.html" title="10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide">
<link rel="chapter" href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide">
<link rel="bibliography" href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide">
<link rel="index" href="index.html" title="Index ‣ OOMMF User’s Guide">
<meta name="keywords" lang="en" content="MIF 1.x, Tk, account service directory, any2ppm, application, applied, batchslave, batchsolve, bitmap, data table, display, energy, field, file, interactive control, iteration, log, magnetization, mask, mmDisp, mmLaunch, mmProbEd, mmSolve2D, requirement, restarting, simulation 2D, termination, total, vector field, working directory">
</head>
<body>
<nav class="ltx_page_navbar"><a href="userguide.html" title="OOMMF User’s Guide" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">OOMMF User’s Guide</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Disclaimer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Overview of OOMMF</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Installation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Quick Start: Example OOMMF Session</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>OOMMF Architecture Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Command Line Launching</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>OOMMF Launcher/Control Interface: mmLaunch</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>OOMMF eXtensible Solver</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Micromagnetic Problem Editor: mmProbEd</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Micromagnetic Problem File Source: FileSource</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter">
<a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_mmsolve2d.html" title="10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.1 </span>The 2D Micromagnetic Interactive Solver: mmSolve2D</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection ltx_ref_self"><span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2.1 </span>2D Micromagnetic Solver Batch Interface: batchsolve</span></span></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_mmsolveBSS.html" title="10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2.2 </span>2D Micromagnetic Solver Batch Scheduling System</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Data Table Display: mmDataTable</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Data Graph Display: mmGraph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Vector Field Display: mmDisp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Data Archive: mmArchive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Documentation Viewer: mmHelp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Command Line Utilities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>Problem Specification File Formats (MIF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Data Table File Format (ODT)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Vector Field File Format (OVF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>Troubleshooting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">21 </span>Credits</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Bibliography</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a><a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a><a href="sec_mmsolveBSS.html" title="10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2.2 </span>2D Micromagnetic Solver Batch Scheduling System</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_subsection ltx_authors_1line">
<h1 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">10.2.1 </span>2D Micromagnetic Solver Batch Interface: batchsolve</h1>

<div id="p1" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Overview
<br class="ltx_break"></span>The application
<span class="ltx_text ltx_font_bold">batchsolve</span> provides a simple
command line interface to the OOMMF 2D micromagnetic solver engine.</p>
</div>
<div id="p2" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Launching
<br class="ltx_break"></span>The application <span class="ltx_text ltx_font_bold">batchsolve</span> is launched by the command line:</p>
<pre class="ltx_verbatim ltx_font_typewriter">
tclsh oommf.tcl batchsolve [standard options]
   [-end_exit &lt;0|1&gt;] [-end_paused] [-interface &lt;0|1&gt;] \
   [-restart &lt;0|1&gt;] [-start_paused] [file]
</pre>
<p class="ltx_p">where</p>
<dl id="Ch10.S2.I1" class="ltx_description">
<dt id="Ch10.S2.I1.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-end_exit <math id="Ch10.S2.I1.ix1.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="Ch10.S2.I1.ix1.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I1.ix1.p1" class="ltx_para">
<p class="ltx_p">Whether or not to explicitly call exit at bottom of <span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span>.
When launched from the command line, the default is to exit after
solving the problem in <span class="ltx_text ltx_font_typewriter">file</span>. When sourced into another script,
like <span class="ltx_text ltx_font_typewriter">batchslave.tcl</span>, the default is to wait for the caller script
to provide further instructions.</p>
</div>
</dd>
<dt id="Ch10.S2.I1.ix2" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-interface <math id="Ch10.S2.I1.ix2.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="Ch10.S2.I1.ix2.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I1.ix2.p1" class="ltx_para">
<p class="ltx_p">Whether to register with the account service
directory application, so
that <a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmLaunch</a>, can provide
an interactive interface. Default = 1 (do register), which will
automatically start account service directory and
host service directory applications as necessary.</p>
</div>
</dd>
<dt id="Ch10.S2.I1.ix3" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-start_paused</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I1.ix3.p1" class="ltx_para">
<p class="ltx_p">Pause solver after loading problem.</p>
</div>
</dd>
<dt id="Ch10.S2.I1.ix4" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-end_paused</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I1.ix4.p1" class="ltx_para">
<p class="ltx_p">Pause solver and enter event loop at bottom of <span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span>
rather than just falling off the end (the effect of which will
depend on whether or not Tk is loaded).</p>
</div>
</dd>
<dt id="Ch10.S2.I1.ix5" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-restart <math id="Ch10.S2.I1.ix5.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="Ch10.S2.I1.ix5.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I1.ix5.p1" class="ltx_para">
<p class="ltx_p">Determines solver behavior when a new problem is loaded. If 1, then
the solver will look for <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename<span class="ltx_text ltx_font_upright">.log</span></span>
and <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename*<span class="ltx_text ltx_font_upright">.omf</span></span> files to
restart a previous run from the last
saved state (where <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename</span> is the “Base Output
Filename” specified in the input problem specification). If these
files cannot be found, then a warning is issued and the solver falls
back to the default behavior (equivalent to <span class="ltx_text ltx_font_typewriter">-restart 0</span>) of
starting the problem from scratch. The specified <span class="ltx_text ltx_font_typewriter">-restart</span>
setting holds for <span class="ltx_text ltx_font_bold">all</span> problems fed to the solver, not just
the first.</p>
</div>
</dd>
<dt id="Ch10.S2.I1.ix6" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">file</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I1.ix6.p1" class="ltx_para">
<p class="ltx_p">Immediately load and run the specified MIF 1.x
file.</p>
</div>
</dd>
</dl>
</div>
<div id="p3" class="ltx_para">
<p class="ltx_p">The input file <span class="ltx_text ltx_font_typewriter">file</span> should contain a
<a href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">Micromagnetic Input Format</a> 1.x problem
description, such as produced by
<a href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmProbEd</a>. The batch solver
searches several directories for this file, including the current
working directory, the <span class="ltx_text ltx_font_typewriter">data</span> and
<span class="ltx_text ltx_font_typewriter">scripts</span> subdirectories, and parallel directories relative to the
directories <span class="ltx_text ltx_font_typewriter">app/mmsolve</span> and
<span class="ltx_text ltx_font_typewriter">app/mmpe</span> in the OOMMF distribution. Refer to the
<span class="ltx_text ltx_font_typewriter">mif_path</span> variable in <span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span> for the complete list.</p>
</div>
<div id="p4" class="ltx_para">
<p class="ltx_p">If <span class="ltx_text ltx_font_typewriter">-interface</span> is set to 1 (enabled), <span class="ltx_text ltx_font_bold">batchsolve</span> registers
with the account service directory
application, and <span class="ltx_text ltx_font_bold">mmLaunch</span> will be able to provide an interactive
interface. Using this interface, <span class="ltx_text ltx_font_bold">batchsolve</span> may be controlled in
a manner similar to <a href="sec_mmsolve2d.html" title="10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmSolve2D</a>. The
interface allows you to pause,
un-pause, and terminate the current
simulation, as well as to attach data display applications to monitor
the solver’s progress. If more interactive control is needed,
<span class="ltx_text ltx_font_bold">mmSolve2D</span> should be used.</p>
</div>
<div id="p5" class="ltx_para">
<p class="ltx_p">If <span class="ltx_text ltx_font_typewriter">-interface</span> is 0 (disabled), <span class="ltx_text ltx_font_bold">batchsolve</span> does not register,
leaving it without an interface, unless it is sourced into another
script (e.g., <span class="ltx_text ltx_font_typewriter">batchslave.tcl</span>) that
arranges for an interface on the behalf of <span class="ltx_text ltx_font_bold">batchsolve</span>.</p>
</div>
<div id="p6" class="ltx_para">
<p class="ltx_p">Use the <code class="ltx_verbatim ltx_font_typewriter">-start_paused</code> switch to monitor the progress of
<span class="ltx_text ltx_font_bold">batchsolve</span> from the very start of a simulation. With this
switch the solver will be paused immediately after loading the
specified MIF file, so you can bring up the interactive interface
and connect display applications before the simulation begins. Start the
simulation by selecting the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Run</span> command from the interactive
interface. This option cannot be used if <span class="ltx_text ltx_font_typewriter">-interface</span> is disabled.</p>
</div>
<div id="p7" class="ltx_para">
<p class="ltx_p">The <code class="ltx_verbatim ltx_font_typewriter">-end_paused</code> switch insures that the solver does
not automatically terminate after completing the specified
simulation. This is not generally useful, but may find application
when <span class="ltx_text ltx_font_bold">batchsolve</span> is called from inside a Tcl-only wrapper
script.</p>
</div>
<div id="p8" class="ltx_para">
<p class="ltx_p">Note on Tk dependence: If a problem is loaded that uses a
<a href="sec_partgeometry.html" title="17.1.3 Part geometry ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">bitmap mask file</a>, and
if that mask file is not in the PPM P3 (text) format, then
<span class="ltx_text ltx_font_bold">batchsolve</span> will launch <a href="sec_any2ppm.html" title="16.1 Bitmap File Format Conversion: any2ppm ‣ Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref">any2ppm</a> to convert it into
the PPM P3 format. Since <span class="ltx_text ltx_font_bold">any2ppm</span>
requires Tk, at the
time the mask file is read a valid display must be available. See the
<span class="ltx_text ltx_font_bold">any2ppm</span> documentation for details.</p>
</div>
<div id="p9" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Output
<br class="ltx_break"></span>The output may be changed by a Tcl <span class="ltx_ref ltx_ref_self">wrapper
script</span>, but the default
output behavior of <span class="ltx_text ltx_font_bold">batchsolve</span> is to write tabular text data and
the magnetization state at the control point for each applied field
step. The tabular data are appended to the file <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename<span class="ltx_text ltx_font_upright">.odt</span></span>, where <span class="ltx_text ltx_font_italic">basename</span> is the
“Base Output Filename” specified in the input
MIF 1.x file. See the routine <span class="ltx_text ltx_font_typewriter">GetTextData</span> in
<span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span> for details, but at present the output consists of
the solver iteration count, nominal applied field
<span class="ltx_text ltx_font_bold">B</span>, reduced average
magnetization <span class="ltx_text ltx_font_bold">m</span>, and total
energy. This output is in the ODT file format.</p>
</div>
<div id="p10" class="ltx_para">
<p class="ltx_p">The magnetization data are written to a series of OVF (OOMMF Vector
Field) files,
<span class="ltx_text ltx_font_typewriter ltx_font_italic">basename<span class="ltx_text ltx_font_upright">.field</span>nnnn<span class="ltx_text ltx_font_upright">.omf</span></span>, where <span class="ltx_text ltx_font_typewriter ltx_font_italic">nnnn</span>
starts at <span class="ltx_text ltx_font_typewriter">0000</span> and is incremented at each applied
field step. (The ASCII text header inside each
file records the nominal applied field at that step.) These files are
viewable using <a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmDisp</a>.</p>
</div>
<div id="p11" class="ltx_para">
<p class="ltx_p">The solver also automatically appends the input problem specification
and miscellaneous runtime information to the log file
<span class="ltx_text ltx_font_typewriter ltx_font_italic">basename<span class="ltx_text ltx_font_upright">.log</span></span>.
</p>
</div>
<div id="p12" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Programmer’s interface
<br class="ltx_break"></span>
In addition to directly launching <span class="ltx_text ltx_font_bold">batchsolve</span> from the command
line, <span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span> may also be sourced into another Tcl script
that provides additional control structures. Within the scheduling
system of OBS,
<span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span> is sourced into <span class="ltx_text ltx_font_bold">batchslave</span>, which provides
additional control structures that support scheduling control by
<span class="ltx_text ltx_font_bold">batchmaster</span>.
There are several variables and routines
inside <span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span> that may be accessed and redefined from such
a wrapper script to provide enhanced functionality.</p>
</div>
<div id="p13" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Global variables
<br class="ltx_break"></span></p>
<dl id="Ch10.S2.I2" class="ltx_description">
<dt id="Ch10.S2.I2.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">mif</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I2.ix1.p1" class="ltx_para">
<p class="ltx_p">A Tcl handle to a global <span class="ltx_text ltx_font_typewriter">mms_mif</span>
object holding the problem description defined by the input
MIF 1.x file.</p>
</div>
</dd>
<dt id="Ch10.S2.I2.ix2" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">solver</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I2.ix2.p1" class="ltx_para">
<p class="ltx_p">A Tcl handle to the <span class="ltx_text ltx_font_typewriter">mms_solver</span> object.</p>
</div>
</dd>
<dt id="Ch10.S2.I2.ix3" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">search_path</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I2.ix3.p1" class="ltx_para">
<p class="ltx_p">Directory search path used by the
<a href="#PTbatchsolveFindFile" title="item SolverTaskCleanup ‣ 10.2.1 2D Micromagnetic Solver Batch Interface: batchsolve ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_font_typewriter">FindFile</span> proc</a>.</p>
</div>
</dd>
</dl>
<p class="ltx_p">Refer to the source code and sample scripts for details on manipulation
of these variables.</p>
</div>
<div id="p14" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Batchsolve procs
<br class="ltx_break"></span>
The following Tcl procedures are designed for external use and/or
redefinition:</p>
<dl id="Ch10.S2.I3" class="ltx_description">
<dt id="Ch10.S2.I3.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">SolverTaskInit</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I3.ix1.p1" class="ltx_para">
<p class="ltx_p">Called at the start of each task.</p>
</div>
</dd>
<dt id="Ch10.S2.I3.ix2" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">BatchTaskIterationCallback</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I3.ix2.p1" class="ltx_para">
<p class="ltx_p">Called after each iteration in the simulation.</p>
</div>
</dd>
<dt id="Ch10.S2.I3.ix3" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">BatchTaskRelaxCallback</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I3.ix3.p1" class="ltx_para">
<p class="ltx_p">Called at each control point reached in the simulation.</p>
</div>
</dd>
<dt id="Ch10.S2.I3.ix4" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">SolverTaskCleanup</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I3.ix4.p1" class="ltx_para">
<p class="ltx_p">Called at the conclusion of each task.
<a name="PTbatchsolveFindFile" id="PTbatchsolveFindFile" class="ltx_anchor"></a></p>
</div>
</dd>
<dt id="Ch10.S2.I3.ix5" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">FindFile</span></span></dt>
<dd class="ltx_item">
<div id="Ch10.S2.I3.ix5.p1" class="ltx_para">
<p class="ltx_p">Searches the directories specified by the global variable
<span class="ltx_text ltx_font_typewriter">search_path</span> for a specified file. The default
<span class="ltx_text ltx_font_typewriter">SolverTaskInit</span> proc uses this routine to locate the requested
input MIF file.</p>
</div>
</dd>
</dl>
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">SolverTaskInit</span> and <span class="ltx_text ltx_font_typewriter">SolverTaskCleanup</span> accept an arbitrary
argument list (<span class="ltx_text ltx_font_typewriter">args</span>), which is copied over from the <span class="ltx_text ltx_font_typewriter">args</span>
argument to the <span class="ltx_text ltx_font_typewriter">BatchTaskRun</span> and <span class="ltx_text ltx_font_typewriter">BatchTaskLaunch</span> procs in
<span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span>. Typically one copies the default procs (as needed)
into a <a href="sec_mmsolveBSS.html#sec:batchschedex" title="10.2.2.4 Sample task scripts ‣ 10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref">task script</a>, and makes appropriate
modifications. You may (re-)define these procs either before or after
sourcing <span class="ltx_text ltx_font_typewriter">batchsolve.tcl</span>.
See Sec. <a href="sec_mmsolveBSS.html#sec:batchschedex" title="10.2.2.4 Sample task scripts ‣ 10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10.2.2.4</span></a> for example scripts.</p>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a><a href="sec_mmsolveBSS.html" title="10.2.2 2D Micromagnetic Solver Batch Scheduling System ‣ 10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2.2 </span>2D Micromagnetic Solver Batch Scheduling System</span></a><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a>
</div></footer>
</div>
</body>
</html>
