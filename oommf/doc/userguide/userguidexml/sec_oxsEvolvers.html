<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>7.3.4 Evolvers‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide</title>
<!--Generated by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on September 30, 2022.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="oommf.css" type="text/css">
<link rel="stylesheet" href="oommf-report.css" type="text/css">
<link rel="stylesheet" href="oommf-tweakfonts.css" type="text/css">
<link rel="stylesheet" href="oommf-navbar.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="up up" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="up up up" href="userguide.html" title="OOMMF User’s Guide">
<link rel="start" href="userguide.html" title="OOMMF User’s Guide">
<link rel="prev" href="sec_oxsEnergies.html" title="7.3.3 Energies ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="next" href="sec_oxsDrivers.html" title="7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_oxsAtlases.html" title="7.3.1 Atlases ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="html_oxsrectangularmesh.html" title="7.3.2 Meshes ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_oxsEnergies.html" title="7.3.3 Energies ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_oxsDrivers.html" title="7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="sec_oxsFieldObjects.html" title="7.3.6 Field Objects ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="subsection" href="oxsMIF.html" title="7.3.7 MIF Support Classes ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="html_threadconsider.html" title="7.2 OOMMF eXtensible Solver Batch Interface: boxsi ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_contriboxsext.html" title="7.4 Contributed Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide">
<link rel="chapter" href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide">
<link rel="bibliography" href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide">
<link rel="index" href="index.html" title="Index ‣ OOMMF User’s Guide">
<meta name="keywords" lang="en" content="Landau-Lifshitz, ODE, Oxs_CGEvolve, Oxs_EulerEvolve, Oxs_Ext child classes, Oxs_RungeKuttaEvolve, Oxs_SpinXferEvolve">
</head>
<body>
<nav class="ltx_page_navbar"><a href="userguide.html" title="OOMMF User’s Guide" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">OOMMF User’s Guide</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Disclaimer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Overview of OOMMF</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Installation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Quick Start: Example OOMMF Session</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>OOMMF Architecture Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Command Line Launching</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>OOMMF Launcher/Control Interface: mmLaunch</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter">
<a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>OOMMF eXtensible Solver</span></a>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="html_oxsiioutputs.html" title="7.1 OOMMF eXtensible Solver Interactive Interface: Oxsii ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.1 </span>OOMMF eXtensible Solver Interactive Interface:
Oxsii</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="html_threadconsider.html" title="7.2 OOMMF eXtensible Solver Batch Interface: boxsi ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.2 </span>OOMMF eXtensible Solver Batch Interface: boxsi</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3 </span>Standard Oxs_Ext Child Classes</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_oxsAtlases.html" title="7.3.1 Atlases ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.1 </span>Atlases</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="html_oxsrectangularmesh.html" title="7.3.2 Meshes ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.2 </span>Meshes</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_oxsEnergies.html" title="7.3.3 Energies ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.3 </span>Energies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection ltx_ref_self"><span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.4 </span>Evolvers</span></span></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_oxsDrivers.html" title="7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.5 </span>Drivers</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="sec_oxsFieldObjects.html" title="7.3.6 Field Objects ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.6 </span>Field Objects</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="oxsMIF.html" title="7.3.7 MIF Support Classes ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.7 </span>MIF Support Classes</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_contriboxsext.html" title="7.4 Contributed Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.4 </span>Contributed Oxs_Ext Child Classes</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Micromagnetic Problem Editor: mmProbEd</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Micromagnetic Problem File Source: FileSource</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Data Table Display: mmDataTable</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Data Graph Display: mmGraph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Vector Field Display: mmDisp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Data Archive: mmArchive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Documentation Viewer: mmHelp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Command Line Utilities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>Problem Specification File Formats (MIF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Data Table File Format (ODT)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Vector Field File Format (OVF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>Troubleshooting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">21 </span>Credits</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Bibliography</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="sec_oxsext.html" title="7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3 </span>Standard Oxs_Ext Child Classes</span></a><a href="sec_oxsEnergies.html" title="7.3.3 Energies ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.3 </span>Energies</span></a><a href="sec_oxsDrivers.html" title="7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.5 </span>Drivers</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_subsection ltx_authors_1line">
<h1 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.3.4 </span>Evolvers</h1>

<div id="p1" class="ltx_para">
<p class="ltx_p">Evolvers are responsible for updating the magnetization configuration
from one step to the next. There are two types of evolvers,
<span class="ltx_text ltx_font_italic">time evolvers</span>, which track Landau-Lifshitz-Gilbert dynamics,
and <span class="ltx_text ltx_font_italic">minimization evolvers</span>, which locate local minima in the
energy surface through direct minimization techniques. Evolvers are
controlled by <a href="sec_oxsDrivers.html" title="7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">drivers</a>, and must be matched with the appropriate
driver type, i.e., time evolvers must be paired with
<a href="sec_oxsDrivers.html#item:TimeDriver" title="item Oxs_TimeDriver: ‣ 7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">time drivers</a>, and
minimization evolvers must be paired with <a href="sec_oxsDrivers.html#html:MinDriver" title="item Oxs_MinDriver: ‣ 7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">minimization
drivers</a>. The drivers hand a magnetization
configuration to the evolvers with a request to advance the
configuration by one <span class="ltx_text ltx_font_italic">step</span> (also called an <span class="ltx_text ltx_font_italic">iteration</span>).
It is the role of the drivers, not the evolvers, to determine when a
simulation stage or run is complete. Specify blocks for evolvers
contain parameters to control all aspects of individual stepwise
evolution, but stopping criteria are communicated in the Specify block
of the driver, not the evolver.</p>
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">There are currently three time evolvers and one minimization evolver in the
standard OOMMF distribution. The time evolvers are
<a href="#html:EulerEvolve" title="item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_EulerEvolve</a>,
<a href="#html:RungeKuttaEvolve" title="item Oxs_RungeKuttaEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_RungeKuttaEvolve</a>, and
<a href="#html:SpinXferEvolve" title="item Oxs_SpinXferEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_SpinXferEvolve</a>.
The minimization evolver is
<a href="#html:CGEvolve" title="item Oxs_CGEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_CGEvolve</a>.</p>
<dl id="Ch7.S3.I8" class="ltx_description">
<dt class="ltx_item"></dt>
<dd class="ltx_item">
<div id="Ch7.S3.I8.p1" class="ltx_para">
<p class="ltx_p"><a name="PTEE" id="PTEE" class="ltx_anchor"></a></p>
</div>
</dd>
<dt id="html:EulerEvolve" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Oxs_EulerEvolve:</span></span></dt>
<dd class="ltx_item">
<div id="Ch7.S3.I8.ix1.p1" class="ltx_para ltx_align_left">
<p class="ltx_p">Time evolver implementing a simple first order forward Euler method with
step size control on the Landau-Lifshitz
ODE <cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib10" title="A Lagrangian formulation of the gyromagnetic equation of the magnetization field" class="ltx_ref">12</a>, <a href="bibliography.html#bib12" title="On the theory of the dispersion of magnetic permeability in ferromagnetic bodies" class="ltx_ref">17</a>]</cite>:
<br class="ltx_break"></p>
<table id="eq:oxsllode" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch7.E2.m1" class="ltx_Math" alttext="\frac{d\textbf{M}}{dt}=-|\bar{\gamma}|\,\textbf{M}\times\textbf{H}_{\rm eff}-%
\frac{|\bar{\gamma}|\alpha}{M_{s}}\,\textbf{M}\times\left(\textbf{M}\times%
\textbf{H}_{\rm eff}\right)," display="block"><mrow><mrow><mfrac><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐌</mtext></mrow><mrow><mi>d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac><mo>=</mo><mrow><mrow><mo>-</mo><mrow><mrow><mrow><mo stretchy="false">|</mo><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover><mo rspace="4.2pt" stretchy="false">|</mo></mrow><mo>⁢</mo><mtext>𝐌</mtext></mrow><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow></mrow><mo>-</mo><mrow><mrow><mpadded width="+1.7pt"><mfrac><mrow><mrow><mo stretchy="false">|</mo><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover><mo stretchy="false">|</mo></mrow><mo>⁢</mo><mi>α</mi></mrow><msub><mi>M</mi><mi>s</mi></msub></mfrac></mpadded><mo>⁢</mo><mtext>𝐌</mtext></mrow><mo>×</mo><mrow><mo>(</mo><mrow><mtext>𝐌</mtext><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow><mo>)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7.2)</span></td>
</tr>
</table>
<p class="ltx_p">where <span class="ltx_text ltx_markedasmath ltx_font_bold">M</span> is the magnetization, <math id="Ch7.S3.I8.ix1.p1.m2" class="ltx_Math" alttext="\textbf{H}_{\rm eff}" display="inline"><msub><mtext>𝐇</mtext><mi>eff</mi></msub></math> is the effective
field, <math id="Ch7.S3.I8.ix1.p1.m3" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover></math> is the Landau-Lifshitz gyromagnetic ratio, and
<math id="Ch7.S3.I8.ix1.p1.m4" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math> is the damping constant. The Gilbert form</p>
<table id="eq:oxsllgode" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch7.E3.m1" class="ltx_Math" alttext="\frac{d\textbf{M}}{dt}=-|\gamma|\,\textbf{M}\times\textbf{H}_{\rm eff}+\frac{%
\alpha}{M_{s}}\left(\textbf{M}\times\frac{d\textbf{M}}{dt}\right)," display="block"><mrow><mrow><mfrac><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐌</mtext></mrow><mrow><mi>d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac><mo>=</mo><mrow><mrow><mo>-</mo><mrow><mrow><mrow><mo stretchy="false">|</mo><mi>γ</mi><mo rspace="4.2pt" stretchy="false">|</mo></mrow><mo>⁢</mo><mtext>𝐌</mtext></mrow><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow></mrow><mo>+</mo><mrow><mfrac><mi>α</mi><msub><mi>M</mi><mi>s</mi></msub></mfrac><mo>⁢</mo><mrow><mo>(</mo><mrow><mtext>𝐌</mtext><mo>×</mo><mfrac><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐌</mtext></mrow><mrow><mi>d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7.3)</span></td>
</tr>
</table>
<p class="ltx_p">where <math id="Ch7.S3.I8.ix1.p1.m5" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math> is the Gilbert gyromagnetic ratio, is
mathematically equivalent to the Landau-Lifshitz form under the
relation <math id="Ch7.S3.I8.ix1.p1.m6" class="ltx_Math" alttext="\gamma=(1+\alpha^{2})\,\bar{\gamma}" display="inline"><mrow><mi>γ</mi><mo>=</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>+</mo><msup><mi>α</mi><mn>2</mn></msup></mrow><mo rspace="4.2pt" stretchy="false">)</mo></mrow><mo>⁢</mo><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover></mrow></mrow></math>.</p>
</div>
<div id="Ch7.S3.I8.ix1.p2" class="ltx_para ltx_align_left">
<p class="ltx_p">The Specify block has the form

</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">Specify Oxs_EulerEvolve:</span><span class="ltx_text ltx_font_italic">name</span><span class="ltx_text ltx_font_typewriter"> </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      alpha <math id="Ch7.S3.I8.ix1.p2.m1" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math>
<br class="ltx_break">
      gamma_LL <math id="Ch7.S3.I8.ix1.p2.m2" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo mathvariant="normal" stretchy="false">¯</mo></mover></math>
<br class="ltx_break">
      gamma_G <math id="Ch7.S3.I8.ix1.p2.m3" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math>
<br class="ltx_break">
      do_precess </span><span class="ltx_text ltx_font_italic">precess
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      min_timestep </span><span class="ltx_text ltx_font_italic">minimum_stepsize
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      max_timestep </span><span class="ltx_text ltx_font_italic">maximum_stepsize
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      fixed_spins </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">atlas_spec
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">region1 region2 …
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      </span>}
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      start_dm <math id="Ch7.S3.I8.ix1.p2.m4" class="ltx_Math" alttext="\Delta\textbf{m}" display="inline"><mrow><mi mathvariant="normal">Δ</mi><mo mathvariant="monospace">⁢</mo><mtext>𝒎</mtext></mrow></math>
<br class="ltx_break">
      error_rate </span><span class="ltx_text ltx_font_italic">rate
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      absolute_step_error </span><span class="ltx_text ltx_font_italic">abs_error
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      relative_step_error </span><span class="ltx_text ltx_font_italic">rel_error
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      step_headroom </span><span class="ltx_text ltx_font_italic">headroom
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
</span>}</p>
</blockquote>
<p class="ltx_p">All the entries have default values, but the ones most commonly adjusted
are listed first.</p>
</div>
<div id="Ch7.S3.I8.ix1.p3" class="ltx_para ltx_align_left">
<p class="ltx_p">The options <span class="ltx_text ltx_font_bold">alpha</span>, <span class="ltx_text ltx_font_bold">gamma_LL</span> and
<span class="ltx_text ltx_font_bold">gamma_G</span> are as in the Landau-Lifshitz-Gilbert ODE
(<a href="#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.2</span></a>), (<a href="#eq:oxsllgode" title="(7.3) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.3</span></a>), where the units on
<math id="Ch7.S3.I8.ix1.p3.m1" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover></math> and <math id="Ch7.S3.I8.ix1.p3.m2" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math> are m/A<math id="Ch7.S3.I8.ix1.p3.m3" class="ltx_Math" alttext="\cdot" display="inline"><mo>⋅</mo></math>s and
<math id="Ch7.S3.I8.ix1.p3.m4" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math> is dimensionless. At most one of
<math id="Ch7.S3.I8.ix1.p3.m5" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover></math> and <math id="Ch7.S3.I8.ix1.p3.m6" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math> should be specified. If
neither is specified, then the default is
<math id="Ch7.S3.I8.ix1.p3.m7" class="ltx_Math" alttext="\gamma=2.211\times 10^{5}" display="inline"><mrow><mi>γ</mi><mo>=</mo><mrow><mn>2.211</mn><mo>×</mo><msup><mn>10</mn><mn>5</mn></msup></mrow></mrow></math>.
(Because of the absolute value convention adopted on
<math id="Ch7.S3.I8.ix1.p3.m8" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover></math> and <math id="Ch7.S3.I8.ix1.p3.m9" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math> in
(<a href="#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.2</span></a>), (<a href="#eq:oxsllgode" title="(7.3) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.3</span></a>), the sign given to the value of
<span class="ltx_text ltx_font_typewriter">gamma_LL</span> or <span class="ltx_text ltx_font_typewriter">gamma_G</span> in the Specify block is
irrelevant.) The default value for <math id="Ch7.S3.I8.ix1.p3.m10" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math> is 0.5, which is
large compared to experimental values, but allows simulations to
converge to equilibria in a reasonable time. However, for accurate
dynamic studies it is important to assign an appropriate value to
<math id="Ch7.S3.I8.ix1.p3.m11" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math>.
</p>
</div>
<div id="Ch7.S3.I8.ix1.p4" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">do_precess</span> value should be either 1 or 0, and determines
whether or not the precession term in the Landau-Lifshitz ODE (i.e., the
first term on the righthand side in (<a href="#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.2</span></a>)) is used. If
<span class="ltx_text ltx_font_italic">precess</span> is 0, then precession is disabled and the simulation
evolves towards equilibrium along a steepest descent path. The default
value is 1.</p>
</div>
<div id="Ch7.S3.I8.ix1.p5" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">min_timestep</span> and <span class="ltx_text ltx_font_bold">max_timestep</span> parameters provide
soft limits on the size of steps taken by the evolver. The minimum
value may be overridden by the driver if a smaller step is needed to
meet time based stopping criteria. The maximum value will be ignored if
a step of that size would produce a magnetization state numerically
indistinguishable from the preceding state. The units for
<span class="ltx_text ltx_font_typewriter">min_timestep</span> and <span class="ltx_text ltx_font_typewriter">max_timestep</span> are seconds. Default
values are 0 and <math id="Ch7.S3.I8.ix1.p5.m1" class="ltx_Math" alttext="10^{-10}" display="inline"><msup><mn>10</mn><mrow><mo>-</mo><mn>10</mn></mrow></msup></math> respectively.</p>
</div>
<div id="Ch7.S3.I8.ix1.p6" class="ltx_para ltx_align_left">
<p class="ltx_p">The optional <span class="ltx_text ltx_font_bold">fixed_spins</span> entry allows the magnetization in
selected regions of the simulation to be frozen in its initial
configuration. The value portion of the entry should be a list, with
the first element of the list being either an inline atlas definition
(grouped as a single item), or else the name of a previously defined
atlas. The remainder of the list are names of regions in that atlas for
which the magnetization is to be be fixed, i.e., <math id="Ch7.S3.I8.ix1.p6.m1" class="ltx_Math" alttext="\textbf{M}(t)=\textbf{M}(0)" display="inline"><mrow><mrow><mtext>𝐌</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mtext>𝐌</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mrow></mrow></math> for all
time <math id="Ch7.S3.I8.ix1.p6.m2" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math> for all points in the named regions. Fields and energies are
computed and reported normally across these regions. Although any atlas
may be used, it is frequently convenient to set up an atlas with special
regions defined expressly for this purpose.</p>
</div>
<div id="Ch7.S3.I8.ix1.p7" class="ltx_para ltx_align_left">
<p class="ltx_p">The stepsize for the first candidate iteration in the problem run is
selected so that the maximum change in the normalized (i.e., unit)
magnetization <span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> is the value specified by <span class="ltx_text ltx_font_bold">start_dm</span>. The
units are degrees, with default value 0.01.</p>
</div>
<div id="Ch7.S3.I8.ix1.p8" class="ltx_para ltx_align_left">
<p class="ltx_p">The four remaining entries, <span class="ltx_text ltx_font_bold">error_rate</span>,
<span class="ltx_text ltx_font_bold">absolute_step_error</span>, <span class="ltx_text ltx_font_bold">relative_step_error</span>, and
<span class="ltx_text ltx_font_bold">step_headroom</span>, control fine points of stepsize selection,
and are intended for advance use only. Given normalized magnetization
<math id="Ch7.S3.I8.ix1.p8.m1" class="ltx_Math" alttext="\textbf{m}_{i}(t)" display="inline"><mrow><msub><mtext>𝐦</mtext><mi>i</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> at time <math id="Ch7.S3.I8.ix1.p8.m2" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math> and position <math id="Ch7.S3.I8.ix1.p8.m3" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math>, and candidate magnetization
<math id="Ch7.S3.I8.ix1.p8.m4" class="ltx_Math" alttext="\textbf{m}_{i}(t+\Delta t)" display="inline"><mrow><msub><mtext>𝐦</mtext><mi>i</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>t</mi><mo>+</mo><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>t</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></math> at time <math id="Ch7.S3.I8.ix1.p8.m5" class="ltx_Math" alttext="t+\Delta t" display="inline"><mrow><mi>t</mi><mo>+</mo><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>t</mi></mrow></mrow></math>, the error at position <math id="Ch7.S3.I8.ix1.p8.m6" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math> is
estimated to be</p>
<table id="Ch7.Ex13" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch7.Ex13.m1" class="ltx_Math" alttext="\mbox{Error}_{i}=\left|\dot{\textbf{m}}_{i}(t+\Delta t)-\dot{\textbf{m}}_{i}(t%
)\right|\Delta t\,/\,2," display="block"><mrow><mrow><msub><mtext>Error</mtext><mi>i</mi></msub><mo>=</mo><mrow><mrow><mrow><mo>|</mo><mrow><mrow><msub><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover><mi>i</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>t</mi><mo>+</mo><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>t</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>-</mo><mrow><msub><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover><mi>i</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><mo>|</mo></mrow><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mpadded width="+1.7pt"><mi>t</mi></mpadded></mrow><mo>/</mo><mn> 2</mn></mrow></mrow><mo>,</mo></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
<p class="ltx_p">where the derivative with respect to time, <math id="Ch7.S3.I8.ix1.p8.m7" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math>, is computed
using the Landau-Lifshitz ODE (<a href="#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.2</span></a>). First order methods
essentially assume that <math id="Ch7.S3.I8.ix1.p8.m8" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math> is constant on the interval
<math id="Ch7.S3.I8.ix1.p8.m9" class="ltx_Math" alttext="[t,t+\Delta t]" display="inline"><mrow><mo stretchy="false">[</mo><mi>t</mi><mo>,</mo><mrow><mi>t</mi><mo>+</mo><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>t</mi></mrow></mrow><mo stretchy="false">]</mo></mrow></math>; the above formula uses the difference in <math id="Ch7.S3.I8.ix1.p8.m10" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math>
at the endpoints of the interval to estimate (guess) how untrue that
assumption is.</p>
</div>
<div id="Ch7.S3.I8.ix1.p9" class="ltx_para ltx_align_left">
<p class="ltx_p">A candidate step is accepted if the maximum error across all positions
<math id="Ch7.S3.I8.ix1.p9.m1" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math> is smaller than <span class="ltx_text ltx_font_typewriter">absolute_step_error</span>,
<span class="ltx_text ltx_font_typewriter">error_rate<math id="Ch7.S3.I8.ix1.p9.m2" class="ltx_Math" alttext="\,\times\,\Delta t" display="inline"><mrow><mi></mi><mo lspace="4.2pt" mathvariant="normal" rspace="4.2pt">×</mo><mrow><mi mathvariant="normal">Δ</mi><mo mathvariant="monospace">⁢</mo><mi>t</mi></mrow></mrow></math></span>, and
<span class="ltx_text ltx_font_typewriter">relative_step_error<math id="Ch7.S3.I8.ix1.p9.m3" class="ltx_Math" alttext="\,\times\,|\dot{\textbf{m}}_{\rm max}|\Delta t" display="inline"><mrow><mi></mi><mo lspace="4.2pt" mathvariant="normal" rspace="4.2pt">×</mo><mrow><mrow><mo mathvariant="normal" stretchy="false">|</mo><msub><mover accent="true"><mtext>𝐦</mtext><mo mathvariant="normal">˙</mo></mover><mi mathvariant="normal">max</mi></msub><mo mathvariant="normal" stretchy="false">|</mo></mrow><mo mathvariant="monospace">⁢</mo><mi mathvariant="normal">Δ</mi><mo mathvariant="monospace">⁢</mo><mi>t</mi></mrow></mrow></math></span>, where <math id="Ch7.S3.I8.ix1.p9.m4" class="ltx_Math" alttext="|\dot{\textbf{m}}_{\rm max}|" display="inline"><mrow><mo stretchy="false">|</mo><msub><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover><mi>max</mi></msub><mo stretchy="false">|</mo></mrow></math> is the maximum value of
<math id="Ch7.S3.I8.ix1.p9.m5" class="ltx_Math" alttext="|\dot{\textbf{m}}_{i}|" display="inline"><mrow><mo stretchy="false">|</mo><msub><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover><mi>i</mi></msub><mo stretchy="false">|</mo></mrow></math> across all <math id="Ch7.S3.I8.ix1.p9.m6" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math> at time <math id="Ch7.S3.I8.ix1.p9.m7" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math>. If the step is rejected,
then a smaller stepsize is computed that appears to pass the above
tests, and a new candidate step is proposed using that smaller stepsize
times <span class="ltx_text ltx_font_typewriter">step_headroom</span>. Alternatively, if the step is accepted,
then the error information is used to determine the stepsize for the
next step, modified in the same manner by <span class="ltx_text ltx_font_typewriter">step_headroom</span>.</p>
</div>
<div id="Ch7.S3.I8.ix1.p10" class="ltx_para ltx_align_left">
<p class="ltx_p">The error calculated above is in terms of unit magnetizations, so the
natural units are radians or radians/second. Inside the Specify block,
however, the <span class="ltx_text ltx_font_typewriter">error_rate</span> and <span class="ltx_text ltx_font_typewriter">absolute_step_error</span> are
specified in degrees/nanosecond and degrees, respectively; they are
converted appropriately inside the code before use. The
<span class="ltx_text ltx_font_typewriter">relative_step_error</span> is a dimensionless quantity, representing a
proportion between 0 and 1. The error check controlled by each of these
three quantities may be disabled by setting the quantity value to -1.
They are all optional, with default values of -1 for <span class="ltx_text ltx_font_typewriter">error_rate</span>,
0.2 for <span class="ltx_text ltx_font_typewriter">absolute_step_error</span>, and 0.2 for
<span class="ltx_text ltx_font_typewriter">relative_step_error</span>.</p>
</div>
<div id="Ch7.S3.I8.ix1.p11" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">headroom</span> quantity should lie in the range <math id="Ch7.S3.I8.ix1.p11.m1" class="ltx_Math" alttext="(0,1)" display="inline"><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></math>, and controls
how conservative the code will be in stepsize selection. If <span class="ltx_text ltx_font_typewriter">headroom</span>
is too large, then much computation time will be lost computing
candidate steps that fail the error control tests. If <span class="ltx_text ltx_font_typewriter">headroom</span> is
small, then most candidate steps will pass the error control tests, but
computation time may be wasted calculating more steps than are
necessary. The default value for <span class="ltx_text ltx_font_typewriter">headroom</span> is 0.85.</p>
</div>
<div id="Ch7.S3.I8.ix1.p12" class="ltx_para ltx_align_left">
<p class="ltx_p">In addition to the above error control tests, a candidate step will also
be rejected if the total energy, after adjusting for effects due to any
time varying external field, is found to increase. In this case the
next candidate stepsize is set to one half the rejected stepsize.</p>
</div>
<div id="Ch7.S3.I8.ix1.p13" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve</span> module provides five scalar, one scalar
field, and three vector field outputs. The scalar outputs are</p>
<ul id="Ch7.S3.I8.ix1.I1" class="ltx_itemize">
<li id="Ch7.S3.I8.ix1.I0.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Max dm/dt:</span> maximum <math id="Ch7.S3.I8.ix1.I0.i1.p1.m1" class="ltx_Math" alttext="|d\textbf{m}/dt|" display="inline"><mrow><mo stretchy="false">|</mo><mrow><mrow><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐦</mtext></mrow><mo>/</mo><mi>d</mi></mrow><mo>⁢</mo><mi>t</mi></mrow><mo stretchy="false">|</mo></mrow></math>, in degrees per
nanosecond; <span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> is the unit magnetization direction.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix1.I0.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Total energy:</span> in joules.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix1.I0.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Delta E:</span> change in energy between last step and current
step, in joules.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix1.I0.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">dE/dt:</span> derivative of energy with respect to time, in
joules per second.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix1.I0.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Energy calc count:</span> number of times total energy has been
calculated.</p>
</div>
</li>
</ul>
</div>
<div id="Ch7.S3.I8.ix1.p14" class="ltx_para ltx_align_left">
<p class="ltx_p">The scalar field output is</p>
<ul id="Ch7.S3.I8.ix1.I1a" class="ltx_itemize">
<li id="Ch7.S3.I8.ix1.I0.i1a" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i1a.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Total energy density:</span> cellwise total energy density, in
J/m<math id="Ch7.S3.I8.ix1.I0.i1a.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn>3</mn></msup></math>.</p>
</div>
</li>
</ul>
</div>
<div id="Ch7.S3.I8.ix1.p15" class="ltx_para ltx_align_left">
<p class="ltx_p">The vector field outputs are</p>
<ul id="Ch7.S3.I8.ix1.I1b" class="ltx_itemize">
<li id="Ch7.S3.I8.ix1.I0.i1b" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i1b.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Total field:</span> total effective field <span class="ltx_text ltx_markedasmath ltx_font_bold">H</span> in A/m.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix1.I0.i2a" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i2a.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">mxH:</span> torque in A/m; <span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> is the unit magnetization
direction, <span class="ltx_text ltx_markedasmath ltx_font_bold">H</span> is the total effective field.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix1.I0.i3a" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix1.I0.i3a.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">dm/dt:</span> derivative of spin <span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> with respect to time, in
radians per second.</p>
</div>
</li>
</ul>
</div>
<div id="Ch7.S3.I8.ix1.p16" class="ltx_para ltx_align_left">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Example:</span> <span class="ltx_text ltx_font_typewriter">octant.mif</span>.</p>
</div>
<div id="Ch7.S3.I8.ix1.p17" class="ltx_para">
<p class="ltx_p"><a name="PTRK" id="PTRK" class="ltx_anchor"></a></p>
</div>
</dd>
<dt id="html:RungeKuttaEvolve" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Oxs_RungeKuttaEvolve:</span></span></dt>
<dd class="ltx_item">
<div id="Ch7.S3.I8.ix2.p1" class="ltx_para ltx_align_left">
<p class="ltx_p">Time evolver implementing several Runge-Kutta methods for integrating
the Landau-Lifshitz-Gilbert ODE
(<a href="#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.2</span></a>), (<a href="#eq:oxsllgode" title="(7.3) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.3</span></a>), with step size control. In
most cases it will greatly outperform the <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve</span> class.
The Specify block has the form</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">Specify Oxs_RungeKuttaEvolve:</span><span class="ltx_text ltx_font_italic">name</span><span class="ltx_text ltx_font_typewriter"> </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      alpha <math id="Ch7.S3.I8.ix2.p1.m1" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math>
<br class="ltx_break">
      gamma_LL <math id="Ch7.S3.I8.ix2.p1.m2" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo mathvariant="normal" stretchy="false">¯</mo></mover></math>
<br class="ltx_break">
      gamma_G <math id="Ch7.S3.I8.ix2.p1.m3" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math>
<br class="ltx_break">
      do_precess </span><span class="ltx_text ltx_font_italic">precess
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      allow_signed_gamma </span><span class="ltx_text ltx_font_italic">signed_gamma
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      min_timestep </span><span class="ltx_text ltx_font_italic">minimum_stepsize
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      max_timestep </span><span class="ltx_text ltx_font_italic">maximum_stepsize
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      fixed_spins </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">atlas_spec
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">region1 region2 …
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      </span>}
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      start_dm <math id="Ch7.S3.I8.ix2.p1.m4" class="ltx_Math" alttext="\Delta\textbf{m}" display="inline"><mrow><mi mathvariant="normal">Δ</mi><mo mathvariant="monospace">⁢</mo><mtext>𝒎</mtext></mrow></math>
<br class="ltx_break">
      start_dt </span><span class="ltx_text ltx_font_italic">start_timestep
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      stage_start </span><span class="ltx_text ltx_font_italic">scontinuity
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      error_rate </span><span class="ltx_text ltx_font_italic">rate
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      absolute_step_error </span><span class="ltx_text ltx_font_italic">abs_error
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      relative_step_error </span><span class="ltx_text ltx_font_italic">rel_error
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      energy_precision </span><span class="ltx_text ltx_font_italic">eprecision
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      min_step_headroom </span><span class="ltx_text ltx_font_italic">min_headroom
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      max_step_headroom </span><span class="ltx_text ltx_font_italic">max_headroom
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      reject_goal </span><span class="ltx_text ltx_font_italic">reject_proportion
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      method </span><span class="ltx_text ltx_font_italic">subtype
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
</span>}</p>
</blockquote>
<p class="ltx_p">Most of these options appear also in the
<a href="#html:EulerEvolve" title="item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_EulerEvolve</a> class.
The repeats have the same meaning as in that class, and the same
default values except for <span class="ltx_text ltx_font_typewriter">relative_step_error</span> and
<span class="ltx_text ltx_font_typewriter">error_rate</span>, which for <span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve</span> have the
default values of 0.01 and 1.0, respectively. Additionally, the
<span class="ltx_text ltx_font_bold">alpha</span>, <span class="ltx_text ltx_font_bold">gamma_LL</span> and <span class="ltx_text ltx_font_bold">gamma_G</span> options
may be initialized using scalar field objects, to allow these material
parameters to vary spatially.</p>
</div>
<div id="Ch7.S3.I8.ix2.p2" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">allow_signed_gamma</span> parameter is for simulation testing
purposes, and is intended for advanced use only. There is some lack of
consistency in the literature with respect to the sign of
<math id="Ch7.S3.I8.ix2.p2.m1" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math>. For this reason the Landau-Lifshitz-Gilbert
equations are presented above (<a href="#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.2</span></a>, <a href="#eq:oxsllgode" title="(7.3) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.3</span></a>)
using the absolute value of <math id="Ch7.S3.I8.ix2.p2.m2" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math>. This is the
interpretation used if <span class="ltx_text ltx_font_typewriter">allow_signed_gamma</span> is 0 (the default). If
instead <span class="ltx_text ltx_font_typewriter">allow_signed_gamma</span> is set to 1, then the
Landau-Lifshitz-Gilbert equations are interpreted without the absolute
values and with a sign change on the <math id="Ch7.S3.I8.ix2.p2.m3" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math> terms, i.e., the
default value for <math id="Ch7.S3.I8.ix2.p2.m4" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math> in this case is <math id="Ch7.S3.I8.ix2.p2.m5" class="ltx_Math" alttext="-2.211\times 10^{5}" display="inline"><mrow><mo>-</mo><mrow><mn>2.211</mn><mo>×</mo><msup><mn>10</mn><mn>5</mn></msup></mrow></mrow></math> (units are m/A<math id="Ch7.S3.I8.ix2.p2.m6" class="ltx_Math" alttext="\cdot" display="inline"><mo>⋅</mo></math>s). In this setting, if <math id="Ch7.S3.I8.ix2.p2.m7" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math>
is set positive then the spins will precess backwards about the
effective field, and the damping term will force the spins <span class="ltx_text ltx_font_bold">away</span>
from the effective field and increase the total energy. If you are
experimenting with <math id="Ch7.S3.I8.ix2.p2.m8" class="ltx_Math" alttext="\gamma&gt;0" display="inline"><mrow><mi>γ</mi><mo>&gt;</mo><mn>0</mn></mrow></math>, you should either set
<math id="Ch7.S3.I8.ix2.p2.m9" class="ltx_Math" alttext="\alpha&lt;=0" display="inline"><mrow><mi>α</mi><mo mathvariant="italic">&lt;=</mo><mn>0</mn></mrow></math> to force spins back towards the effective field,
or disable the energy precision control (discussed
<a href="#html:RungeKuttaEvolve" title="item Oxs_RungeKuttaEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">below</a>).</p>
</div>
<div id="Ch7.S3.I8.ix2.p3" class="ltx_para ltx_align_left">
<p class="ltx_p">The two controls <span class="ltx_text ltx_font_bold">min_step_headroom</span> (default value 0.33) and
<span class="ltx_text ltx_font_bold">max_step_headroom</span> (default value 0.95) replace the single
<span class="ltx_text ltx_font_typewriter">step_headroom</span> option in <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve</span>. The effective
<span class="ltx_text ltx_font_typewriter">step_headroom</span> is automatically adjusted by the evolver between the
<span class="ltx_text ltx_font_italic">min_headroom</span> and <span class="ltx_text ltx_font_italic">max_headroom</span> limits to make the
observed reject proportion approach the <span class="ltx_text ltx_font_bold">reject_goal</span> (default
value 0.05).</p>
</div>
<div id="Ch7.S3.I8.ix2.p4" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">method</span> entry selects a particular Runge-Kutta
implementation. It should be set to one of <span class="ltx_text ltx_font_italic">rk2</span>,
<span class="ltx_text ltx_font_italic">rk4</span>, <span class="ltx_text ltx_font_italic">rkf54</span>, <span class="ltx_text ltx_font_italic">rkf54m</span>, or <span class="ltx_text ltx_font_italic">rkf54s</span>;
the default value is <span class="ltx_text ltx_font_italic">rkf54</span>. The <span class="ltx_text ltx_font_italic">rk2</span> and
<span class="ltx_text ltx_font_italic">rk4</span> methods implement canonical second and fourth global order
Runge-Kutta methods<cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib19" title="Introduction to numerical analysis" class="ltx_ref">27</a>]</cite>, respectively. For <span class="ltx_text ltx_font_italic">rk2</span>,
stepsize control is managed by comparing <math id="Ch7.S3.I8.ix2.p4.m1" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math> at the middle and
final points of the interval, similar to what is done for stepsize
control for the <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve</span> class. One step of the
<span class="ltx_text ltx_font_italic">rk2</span> method involves 2 evaluations of <math id="Ch7.S3.I8.ix2.p4.m2" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math>.</p>
</div>
<div id="Ch7.S3.I8.ix2.p5" class="ltx_para ltx_align_left">
<p class="ltx_p">In the <span class="ltx_text ltx_font_italic">rk4</span> method, two successive steps are taken at half the
nominal step size, and the difference between that end point and that
obtained with one full size step are compared. The error is estimated at
1/15th the maximum difference between these two states. One step of the
<span class="ltx_text ltx_font_italic">rk4</span> method involves 11 evaluations of <math id="Ch7.S3.I8.ix2.p5.m1" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math>, but the
end result is that of the 2 half-sized steps.</p>
</div>
<div id="Ch7.S3.I8.ix2.p6" class="ltx_para ltx_align_left">
<p class="ltx_p">The remaining methods, <span class="ltx_text ltx_font_italic">rkf54</span>, <span class="ltx_text ltx_font_italic">rkf54m</span>,
and <span class="ltx_text ltx_font_italic">rkf54s</span>, are closely related Runge-Kutta-Fehlberg methods
derived by Dormand and Prince<cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib7" title="A family of embedded Runge-Kutta formulae" class="ltx_ref">8</a>, <a href="bibliography.html#bib8" title="A reconsideration of some embedded Runge-Kutta formulae" class="ltx_ref">9</a>]</cite>. In the
nomenclature of these papers,
<span class="ltx_text ltx_font_italic">rkf54</span> implements RK5(4)7FC,
<span class="ltx_text ltx_font_italic">rkf54m</span> implements RK5(4)7FM, and
<span class="ltx_text ltx_font_italic">rkf54s</span> implements RK5(4)7FS.
All are 5th global order with an embedded 4th order method for stepsize
control. Each step of these methods requires 6 evaluations of
<math id="Ch7.S3.I8.ix2.p6.m1" class="ltx_Math" alttext="\dot{\textbf{m}}" display="inline"><mover accent="true"><mtext>𝐦</mtext><mo>˙</mo></mover></math> if the step is accepted, 7 if rejected. The difference
between the methods involves tradeoffs between stability and error
minimization. The RK5(4)7FS method has the best stability, RK5(4)7FM
the smallest error, and RK5(4)7FC represents a compromise between the
two. The default method used by <span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve</span> is
RK5(4)7FC.</p>
</div>
<div id="Ch7.S3.I8.ix2.p7" class="ltx_para ltx_align_left">
<p class="ltx_p">The remaining undiscussed entry in the <span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve</span>
Specify block is <span class="ltx_text ltx_font_bold">energy_precision</span>. This should be set to an
estimate of the expected relative accuracy of the energy calculation.
After accounting for any change in the total energy arising from
time-varying applied fields, the energy remainder should decrease from
one step of the LLG ODE to the next. <span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve</span> will
reject a step if the energy remainder is found to increase by more than
that allowed by <span class="ltx_text ltx_font_italic">eprecision</span>. The default value for
<span class="ltx_text ltx_font_italic">eprecision</span> is <math id="Ch7.S3.I8.ix2.p7.m1" class="ltx_Math" alttext="10^{-10}" display="inline"><msup><mn>10</mn><mrow><mo>-</mo><mn>10</mn></mrow></msup></math>. This control
may be disabled by setting <span class="ltx_text ltx_font_italic">eprecision</span> to -1.</p>
</div>
<div id="Ch7.S3.I8.ix2.p8" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve</span> module provides the same scalar, scalar
field, and vector field outputs as <span class="ltx_text ltx_font_typewriter">Oxs_EulerEvolve</span>. It also
provides the following state data accessible through the MIF <a href="sec_mif2ExtensionCommands.html#html:GetStateData" title="item GetStateData ‣ 17.3.2 MIF 2.1 Extension Commands ‣ 17.3 MIF 2.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">GetStateData</a> command:
</p>
<blockquote class="ltx_quote">
<table class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">Mx</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">My</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">Mz</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">dMx/dt</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">dMy/dt</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">dMz/dt</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">Total E</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">dE/dt</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_typewriter">pE/pt</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left" colspan="3"><span class="ltx_text ltx_font_typewriter">"Timestep lower bound"</span></td>
</tr>
</tbody>
</table>
</blockquote>
<p class="ltx_p">The full name for each of these items is
</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">Oxs_RungeKuttaEvolve:<math id="Ch7.S3.I8.ix2.p8.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="normal">&lt;</mo></math>instance_name<math id="Ch7.S3.I8.ix2.p8.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="normal">&gt;</mo></math>:<math id="Ch7.S3.I8.ix2.p8.m3" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="normal">&lt;</mo></math>item_name<math id="Ch7.S3.I8.ix2.p8.m4" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="normal">&gt;</mo></math></span>,
</p>
</blockquote>
<p class="ltx_p">where <math id="Ch7.S3.I8.ix2.p8.m5" class="ltx_Math" alttext="&lt;" display="inline"><mo>&lt;</mo></math><span class="ltx_text ltx_font_typewriter">instance_name<math id="Ch7.S3.I8.ix2.p8.m6" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="normal">&gt;</mo></math></span> is the instance name of the object
(typically an empty string or something like “evolver”). For stage
start states only the <span class="ltx_text ltx_font_typewriter">Mx</span>, <span class="ltx_text ltx_font_typewriter">My</span>, and <span class="ltx_text ltx_font_typewriter">Mz</span> items are available.
These terms, and the corresponding <span class="ltx_text ltx_font_typewriter">dMx/dt</span>, <span class="ltx_text ltx_font_typewriter">dMy/dt</span>, and
<span class="ltx_text ltx_font_typewriter">dMz/dt</span>, are component values averaged across the full simulation.
</p>
</div>
<div id="Ch7.S3.I8.ix2.p9" class="ltx_para ltx_align_left">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Examples:</span> <span class="ltx_text ltx_font_typewriter">sample.mif</span>, <span class="ltx_text ltx_font_typewriter">acsample.mif</span>, <span class="ltx_text ltx_font_typewriter">spinmag.mif</span>,
<span class="ltx_text ltx_font_typewriter">spinmag2.mif</span>, <span class="ltx_text ltx_font_typewriter">varalpha.mif</span>, <span class="ltx_text ltx_font_typewriter">yoyo.mif</span>.</p>
</div>
<div id="Ch7.S3.I8.ix2.p10" class="ltx_para">
<p class="ltx_p"><a name="PTSX" id="PTSX" class="ltx_anchor"></a></p>
</div>
</dd>
<dt id="html:SpinXferEvolve" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Oxs_SpinXferEvolve:</span></span></dt>
<dd class="ltx_item">
<div id="Ch7.S3.I8.ix3.p1" class="ltx_para ltx_align_left">
<p class="ltx_p">Time evolver that integrates an
Landau-Lifshitz-Gilbert ODE augmented with a
spin momentum term <cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib21" title="Boltzmann test of Slonczewski’s theory of spin-transfer torque" class="ltx_ref">33</a>]</cite>,</p>
<table id="eq:oxsllgspinxfer" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch7.E4.m1" class="ltx_Math" alttext="\frac{d\textbf{m}}{dt}=-|\gamma|\,\textbf{m}\times\textbf{H}_{\rm eff}+\alpha%
\left(\textbf{m}\times\frac{d\textbf{m}}{dt}\right)+|\gamma|\beta\epsilon\left%
(\textbf{m}\times\textbf{m}_{p}\times\textbf{m}\right)-|\gamma|\beta\epsilon^{%
\prime}\,\textbf{m}\times\textbf{m}_{p}" display="block"><mrow><mfrac><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐦</mtext></mrow><mrow><mi>d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac><mo>=</mo><mrow><mrow><mrow><mo>-</mo><mrow><mrow><mrow><mo stretchy="false">|</mo><mi>γ</mi><mo rspace="4.2pt" stretchy="false">|</mo></mrow><mo>⁢</mo><mtext>𝐦</mtext></mrow><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow></mrow><mo>+</mo><mrow><mi>α</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mtext>𝐦</mtext><mo>×</mo><mfrac><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐦</mtext></mrow><mrow><mi>d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mrow><mo>)</mo></mrow></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">|</mo><mi>γ</mi><mo stretchy="false">|</mo></mrow><mo>⁢</mo><mi>β</mi><mo>⁢</mo><mi>ϵ</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mtext>𝐦</mtext><mo>×</mo><msub><mtext>𝐦</mtext><mi>p</mi></msub><mo>×</mo><mtext>𝐦</mtext></mrow><mo>)</mo></mrow></mrow></mrow><mo>-</mo><mrow><mrow><mrow><mo stretchy="false">|</mo><mi>γ</mi><mo stretchy="false">|</mo></mrow><mo>⁢</mo><mi>β</mi><mo>⁢</mo><mpadded width="+1.7pt"><msup><mi>ϵ</mi><mo>′</mo></msup></mpadded><mo>⁢</mo><mtext>𝐦</mtext></mrow><mo>×</mo><msub><mtext>𝐦</mtext><mi>p</mi></msub></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7.4)</span></td>
</tr>
</table>
<p class="ltx_p">(compare to (<a href="#eq:oxsllgode" title="(7.3) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7.3</span></a>)), where</p>
<table id="Ch21.S0.EGx2" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="Ch7.Ex14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><span class="ltx_text ltx_markedasmath ltx_font_bold">m</span></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch7.Ex14.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><span class="ltx_text ltx_markedasmath">reduced magnetization, <math id="Ch7.Ex14.m3.m1" class="ltx_Math" alttext="\textbf{M}/M_{s}" display="inline"><mrow><mtext>𝐌</mtext><mo>/</mo><msub><mi>M</mi><mi>s</mi></msub></mrow></math></span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ch7.Ex15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch7.Ex15.m1" class="ltx_Math" alttext="\displaystyle\gamma" display="inline"><mi>γ</mi></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch7.Ex15.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><span class="ltx_text ltx_markedasmath">Gilbert gyromagnetic ratio</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ch7.Ex16"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch7.Ex16.m1" class="ltx_Math" alttext="\displaystyle\beta" display="inline"><mi>β</mi></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch7.Ex16.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ch7.Ex16.m3" class="ltx_Math" alttext="\displaystyle\left|\frac{\hbar}{\mu_{0}e}\right|\frac{J}{tM_{s}}" display="inline"><mrow><mrow><mo>|</mo><mstyle displaystyle="true"><mfrac><mi mathvariant="normal">ℏ</mi><mrow><msub><mi>μ</mi><mn>0</mn></msub><mo>⁢</mo><mi>e</mi></mrow></mfrac></mstyle><mo>|</mo></mrow><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mi>J</mi><mrow><mi>t</mi><mo>⁢</mo><msub><mi>M</mi><mi>s</mi></msub></mrow></mfrac></mstyle></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ch7.Ex17"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch7.Ex17.m1" class="ltx_Math" alttext="\displaystyle\textbf{m}_{p}" display="inline"><msub><mtext>𝐦</mtext><mi>p</mi></msub></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch7.Ex17.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><span class="ltx_text ltx_markedasmath">(unit) electron polarization direction</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ch7.Ex18"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch7.Ex18.m1" class="ltx_Math" alttext="\displaystyle\epsilon" display="inline"><mi>ϵ</mi></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch7.Ex18.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ch7.Ex18.m3" class="ltx_Math" alttext="\displaystyle\frac{P\Lambda^{2}}{(\Lambda^{2}+1)+(\Lambda^{2}-1)(\textbf{m}%
\cdot\textbf{m}_{p})}" display="inline"><mstyle displaystyle="true"><mfrac><mrow><mi>P</mi><mo>⁢</mo><msup><mi mathvariant="normal">Λ</mi><mn>2</mn></msup></mrow><mrow><mrow><mo stretchy="false">(</mo><mrow><msup><mi mathvariant="normal">Λ</mi><mn>2</mn></msup><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><msup><mi mathvariant="normal">Λ</mi><mn>2</mn></msup><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mtext>𝐦</mtext><mo>⋅</mo><msub><mtext>𝐦</mtext><mi>p</mi></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mfrac></mstyle></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ch7.Ex19"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch7.Ex19.m1" class="ltx_Math" alttext="\displaystyle\epsilon^{\prime}" display="inline"><msup><mi>ϵ</mi><mo>′</mo></msup></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch7.Ex19.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ch7.Ex19.m3" class="ltx_Math" alttext="\displaystyle\mbox{secondary spin tranfer term}." display="inline"><mrow><mtext>secondary spin tranfer term</mtext><mo>.</mo></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p">In the definition of <math id="Ch7.S3.I8.ix3.p1.m1" class="ltx_Math" alttext="\beta" display="inline"><mi>β</mi></math>, <math id="Ch7.S3.I8.ix3.p1.m2" class="ltx_Math" alttext="e" display="inline"><mi>e</mi></math> is the electron charge in C, <math id="Ch7.S3.I8.ix3.p1.m3" class="ltx_Math" alttext="J" display="inline"><mi>J</mi></math> is
current density in A/m<math id="Ch7.S3.I8.ix3.p1.m4" class="ltx_Math" alttext="{}^{2}" display="inline"><msup><mi></mi><mn>2</mn></msup></math>, <math id="Ch7.S3.I8.ix3.p1.m5" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math> is the free layer thickness in meters,
and <math id="Ch7.S3.I8.ix3.p1.m6" class="ltx_Math" alttext="M_{s}" display="inline"><msub><mi>M</mi><mi>s</mi></msub></math> is the saturation magnetization in A/m.</p>
</div>
<div id="Ch7.S3.I8.ix3.p2" class="ltx_para ltx_align_left">
<p class="ltx_p">The various parameters are defined in the Specify block, which is an
extension of that for the
<a href="#html:RungeKuttaEvolve" title="item Oxs_RungeKuttaEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_RungeKuttaEvolve</a> class:</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">Specify Oxs_SpinXferEvolve:</span><span class="ltx_text ltx_font_italic">name</span><span class="ltx_text ltx_font_typewriter"> </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      alpha <math id="Ch7.S3.I8.ix3.p2.m1" class="ltx_Math" alttext="\alpha" display="inline"><mi>α</mi></math>
<br class="ltx_break">
      gamma_LL <math id="Ch7.S3.I8.ix3.p2.m2" class="ltx_Math" alttext="\bar{\gamma}" display="inline"><mover accent="true"><mi>γ</mi><mo mathvariant="normal" stretchy="false">¯</mo></mover></math>
<br class="ltx_break">
      gamma_G <math id="Ch7.S3.I8.ix3.p2.m3" class="ltx_Math" alttext="\gamma" display="inline"><mi>γ</mi></math>
<br class="ltx_break">
      do_precess </span><span class="ltx_text ltx_font_italic">precess
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      allow_signed_gamma </span><span class="ltx_text ltx_font_italic">signed_gamma
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      min_timestep </span><span class="ltx_text ltx_font_italic">minimum_stepsize
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      max_timestep </span><span class="ltx_text ltx_font_italic">maximum_stepsize
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      fixed_spins </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">atlas_spec
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">region1 region2 …
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      </span>}
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      start_dm <math id="Ch7.S3.I8.ix3.p2.m4" class="ltx_Math" alttext="\Delta\textbf{m}" display="inline"><mrow><mi mathvariant="normal">Δ</mi><mo mathvariant="monospace">⁢</mo><mtext>𝒎</mtext></mrow></math>
<br class="ltx_break">
      stage_start </span><span class="ltx_text ltx_font_italic">scontinuity
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      error_rate </span><span class="ltx_text ltx_font_italic">rate
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      absolute_step_error </span><span class="ltx_text ltx_font_italic">abs_error
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      relative_step_error </span><span class="ltx_text ltx_font_italic">rel_error
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      energy_precision </span><span class="ltx_text ltx_font_italic">eprecision
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      min_step_headroom </span><span class="ltx_text ltx_font_italic">min_headroom
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      max_step_headroom </span><span class="ltx_text ltx_font_italic">max_headroom
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      reject_goal </span><span class="ltx_text ltx_font_italic">reject_proportion
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      method </span><span class="ltx_text ltx_font_italic">subtype
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      P </span><span class="ltx_text ltx_font_italic">polarization
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      P_fixed </span><span class="ltx_text ltx_font_italic">p_fixed_layer
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      P_free </span><span class="ltx_text ltx_font_italic">p_free_layer
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      Lambda <math id="Ch7.S3.I8.ix3.p2.m5" class="ltx_Math" alttext="\Lambda" display="inline"><mi mathvariant="normal">Λ</mi></math>
<br class="ltx_break">
      Lambda_fixed <math id="Ch7.S3.I8.ix3.p2.m6" class="ltx_Math" alttext="\Lambda" display="inline"><mi mathvariant="normal">Λ</mi></math></span><span class="ltx_text ltx_font_italic">_fixed_layer
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      Lambda_free <math id="Ch7.S3.I8.ix3.p2.m7" class="ltx_Math" alttext="\Lambda" display="inline"><mi mathvariant="normal">Λ</mi></math></span><span class="ltx_text ltx_font_italic">_free_layer
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      eps_prime </span><span class="ltx_text ltx_font_italic">ep
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      J </span><span class="ltx_text ltx_font_italic">current_density
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      J_profile </span><span class="ltx_text ltx_font_italic">Jprofile_script
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      J_profile_args </span><span class="ltx_text ltx_font_italic">Jprofile_script_args
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      mp </span><span class="ltx_text ltx_font_italic">p_direction
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      energy_slack </span><span class="ltx_text ltx_font_italic">eslack
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
</span>}</p>
</blockquote>
<p class="ltx_p">The options duplicated in the
<a href="#html:RungeKuttaEvolve" title="item Oxs_RungeKuttaEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_RungeKuttaEvolve</a> class
Specify block have the same meaning and default values here, with the
exception of <span class="ltx_text ltx_font_typewriter">error_rate</span>, which for
<span class="ltx_text ltx_font_typewriter">Oxs_SpinXferEvolve</span> has the default value of -1 (i.e., disabled).</p>
</div>
<div id="Ch7.S3.I8.ix3.p3" class="ltx_para ltx_align_left">
<p class="ltx_p">The default values for <span class="ltx_text ltx_font_bold">P</span> and <span class="ltx_text ltx_font_bold">Lambda</span> are 0.4 and 2,
respectively. If preferred, values for the fixed and free layers may be
instead specified separately, through <span class="ltx_text ltx_font_bold">P_fixed</span>,
<span class="ltx_text ltx_font_bold">P_free</span>, <span class="ltx_text ltx_font_bold">Lambda_fixed</span>, and
<span class="ltx_text ltx_font_bold">Lambda_free</span>. Otherwise P_fixed = P_free = P and
Lambda_fixed = Lambda_free = Lambda. Lambda must be larger than or
equal to 1; set Lambda=1 to remove the dependence of
<math id="Ch7.S3.I8.ix3.p3.m1" class="ltx_Math" alttext="\epsilon" display="inline"><mi>ϵ</mi></math> on <math id="Ch7.S3.I8.ix3.p3.m2" class="ltx_Math" alttext="\textbf{m}\cdot\textbf{m}_{p}" display="inline"><mrow><mtext>𝐦</mtext><mo>⋅</mo><msub><mtext>𝐦</mtext><mi>p</mi></msub></mrow></math>. If you want non-zero
<math id="Ch7.S3.I8.ix3.p3.m3" class="ltx_Math" alttext="\epsilon^{\prime}" display="inline"><msup><mi>ϵ</mi><mo>′</mo></msup></math>, it is set directly as
<span class="ltx_text ltx_font_bold">eps_prime</span>.</p>
</div>
<div id="Ch7.S3.I8.ix3.p4" class="ltx_para ltx_align_left">
<p class="ltx_p">Current density <span class="ltx_text ltx_font_bold">J</span> and unit polarization direction
<span class="ltx_text ltx_font_bold">mp</span> are required. The units on J are A/m<math id="Ch7.S3.I8.ix3.p4.m1" class="ltx_Math" alttext="{}^{2}" display="inline"><msup><mi></mi><mn>2</mn></msup></math>. Positive J
produces torque that tends to align <span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> towards
<math id="Ch7.S3.I8.ix3.p4.m3" class="ltx_Math" alttext="\textbf{m}_{p}" display="inline"><msub><mtext>𝐦</mtext><mi>p</mi></msub></math>.</p>
</div>
<div id="Ch7.S3.I8.ix3.p5" class="ltx_para ltx_align_left">
<p class="ltx_p">Parameters J, mp, P, Lambda, and eps_prime may all be varied pointwise,
but are fixed with respect to time. However, J can be multiplied by a
time varying “profile,” to model current rise times, pulses, etc. Use
the <span class="ltx_text ltx_font_bold">J_profile</span> and <span class="ltx_text ltx_font_bold">J_profile_args</span> options to
enable this feature. The <span class="ltx_text ltx_font_italic">Jprofile_script</span> should be a Tcl script that returns a single scalar. <span class="ltx_text ltx_font_italic">Jprofile_script_args</span>
should be a subset of {<span class="ltx_text ltx_font_typewriter">stage stage_time total_time</span>}, to
specify arguments appended to <span class="ltx_text ltx_font_italic">Jprofile_script</span> on each time
step. Default is the entire set, in the order as listed.</p>
</div>
<div id="Ch7.S3.I8.ix3.p6" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Oxs_SpinXferEvolve</span> module provides the same five scalar
outputs and three vector outputs as <span class="ltx_text ltx_font_typewriter">Oxs_RungeKutta</span>, plus the
scalar output “average J,” and the vector field outputs “Spin
torque” (which is
<math id="Ch7.S3.I8.ix3.p6.m1" class="ltx_Math" alttext="|\gamma|\beta\epsilon\left(\textbf{m}\times\textbf{m}_{p}\times\textbf{m}\right)" display="inline"><mrow><mrow><mo stretchy="false">|</mo><mi>γ</mi><mo stretchy="false">|</mo></mrow><mo>⁢</mo><mi>β</mi><mo>⁢</mo><mi>ϵ</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mtext>𝐦</mtext><mo>×</mo><msub><mtext>𝐦</mtext><mi>p</mi></msub><mo>×</mo><mtext>𝐦</mtext></mrow><mo>)</mo></mrow></mrow></math>) and
“J*mp.” (Development note: In the case <span class="ltx_text ltx_font_typewriter">propagate_mp</span> is
enabled, <span class="ltx_text ltx_font_typewriter">mp</span> is actually <math id="Ch7.S3.I8.ix3.p6.m2" class="ltx_Math" alttext="\Delta_{x}\partial\textbf{m}/\partial\textbf{x}" display="inline"><mrow><mrow><msub><mi mathvariant="normal">Δ</mi><mi>x</mi></msub><mo>⁢</mo><mrow><mo>∂</mo><mo>⁡</mo><mtext>𝐦</mtext></mrow></mrow><mo>/</mo><mrow><mo>∂</mo><mo>⁡</mo><mtext>𝐱</mtext></mrow></mrow></math>,
where <span class="ltx_text ltx_markedasmath ltx_font_bold">x</span> is the flow direction and <math id="Ch7.S3.I8.ix3.p6.m4" class="ltx_Math" alttext="\Delta_{x}" display="inline"><msub><mi mathvariant="normal">Δ</mi><mi>x</mi></msub></math> is the cell dimension
in that direction.)</p>
</div>
<div id="Ch7.S3.I8.ix3.p7" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Oxs_SpinXferEvolve</span> class does <span class="ltx_text ltx_font_bold">not</span> include any oersted
field arising from the current. Of course, arbitrary fields simulating
the oersted field may be added separately as Zeeman energy terms. An
example of this is contained in the <span class="ltx_text ltx_font_typewriter">spinxfer.mif</span> sample file.</p>
</div>
<div id="Ch7.S3.I8.ix3.p8" class="ltx_para ltx_align_left">
<p class="ltx_p">There are no temperature effects in this evolver, i.e., it is a T = 0 K
code.</p>
</div>
<div id="Ch7.S3.I8.ix3.p9" class="ltx_para ltx_align_left">
<p class="ltx_p">Note also that <math id="Ch7.S3.I8.ix3.p9.m1" class="ltx_Math" alttext="\textbf{m}_{p}" display="inline"><msub><mtext>𝐦</mtext><mi>p</mi></msub></math> is fixed.</p>
</div>
<div id="Ch7.S3.I8.ix3.p10" class="ltx_para ltx_align_left">
<p class="ltx_p">For basic usage, the Specify block can be as simple as
</p>
<blockquote class="ltx_quote">
<pre class="ltx_verbatim ltx_font_typewriter">
Specify Oxs_SpinXferEvolve:evolve {
  alpha 0.014
  J 7.5e12
  mp {1 0 0}
  P 0.4
  Lambda 2
}
</pre>
</blockquote>
</div>
<div id="Ch7.S3.I8.ix3.p11" class="ltx_para ltx_align_left">
<p class="ltx_p">This class is still in early development; at this time the example files
are located in <span class="ltx_text ltx_font_typewriter">oommf/app/oxs/local</span> instead of
<span class="ltx_text ltx_font_typewriter">oommf/app/oxs/examples</span>.</p>
</div>
<div id="Ch7.S3.I8.ix3.p12" class="ltx_para ltx_align_left">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Examples:</span> <span class="ltx_text ltx_font_typewriter">spinxfer.mif</span>, <span class="ltx_text ltx_font_typewriter">spinxfer-miltat.mif</span>, <span class="ltx_text ltx_font_typewriter">spinxfer-onespin.mif</span>.</p>
</div>
<div id="Ch7.S3.I8.ix3.p13" class="ltx_para">
<p class="ltx_p"><a name="PTCG" id="PTCG" class="ltx_anchor"></a></p>
</div>
</dd>
<dt id="html:CGEvolve" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">Oxs_CGEvolve:</span></span></dt>
<dd class="ltx_item">
<div id="Ch7.S3.I8.ix4.p1" class="ltx_para ltx_align_left">
<p class="ltx_p">The minimization evolver is <span class="ltx_text ltx_font_typewriter">Oxs_CGEvolve</span>, which is an
in-development conjugate gradient minimizer with no preconditioning. The
Specify block has the form</p>
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">Specify Oxs_CGEvolve:</span><span class="ltx_text ltx_font_italic">name</span><span class="ltx_text ltx_font_typewriter"> </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
      gradient_reset_angle </span><span class="ltx_text ltx_font_italic">reset_angle
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      gradient_reset_count </span><span class="ltx_text ltx_font_italic">count
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      minimum_bracket_step </span><span class="ltx_text ltx_font_italic">minbrack
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      maximum_bracket_step </span><span class="ltx_text ltx_font_italic">maxbrack
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      line_minimum_angle_precision </span><span class="ltx_text ltx_font_italic">min_prec_angle
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      line_minimum_relwidth </span><span class="ltx_text ltx_font_italic">relwidth
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      energy_precision </span><span class="ltx_text ltx_font_italic">eprecision
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      method </span><span class="ltx_text ltx_font_italic">cgmethod
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      fixed_spins </span>{
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">atlas_spec
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
            </span><span class="ltx_text ltx_font_italic">region1 region2 …
<br class="ltx_break"></span><span class="ltx_text ltx_font_typewriter">
      </span>}
<br class="ltx_break"><span class="ltx_text ltx_font_typewriter">
</span>}</p>
</blockquote>
<p class="ltx_p">All entries have default values.</p>
</div>
<div id="Ch7.S3.I8.ix4.p2" class="ltx_para ltx_align_left">
<p class="ltx_p">The evolution to an energy minimum precedes by a sequence of line
minimizations. Each line represents a one dimensional affine subspace
in the <math id="Ch7.S3.I8.ix4.p2.m1" class="ltx_Math" alttext="3N" display="inline"><mrow><mn>3</mn><mo>⁢</mo><mi>N</mi></mrow></math> dimensional space of possible magnetization configurations,
where <math id="Ch7.S3.I8.ix4.p2.m2" class="ltx_Math" alttext="N" display="inline"><mi>N</mi></math> is the number of spins in the simulation. Once a minimum has
been found along a line, a new direction is chosen that is ideally
orthogonal to all preceding directions, but related to the gradient of
the energy taken with respect to the magnetization. In practice the
line direction sequence cannot be extended indefinitely; the parameters
<span class="ltx_text ltx_font_bold">gradient_reset_angle</span> and <span class="ltx_text ltx_font_bold">gradient_reset_count</span>
control the gradient resetting process. The first checks the angle
between the new direction and the gradient. If that angle is larger
than <span class="ltx_text ltx_font_italic">reset_angle</span> (expressed in degrees), then the selected
direction is thrown away, and the conjugate-gradient process is
re-initialized with the gradient direction as the new first direction.
In a similar vein, <span class="ltx_text ltx_font_italic">count</span> specifies the maximum number of line
directions selected before resetting the process. Because the first
line in the sequence is selected along the gradient direction, setting
<span class="ltx_text ltx_font_italic">count</span> to 1 effectively turns the algorithm into a steepest
descent minimization method. The default values for
<span class="ltx_text ltx_font_italic">reset_angle</span> and <span class="ltx_text ltx_font_italic">count</span> are 80 degrees and 50,
respectively.</p>
</div>
<div id="Ch7.S3.I8.ix4.p3" class="ltx_para ltx_align_left">
<p class="ltx_p">Once a minimization direction has been selected, the first stage of the
line minimization is to bracket the minimum energy on that line, i.e.,
given a start point on the line—the location of the minimum from the
previous line minimization—find another point on the line such that
the energy minimum lies between those two points. As one moves along
the line, the spins in the simulation rotate, with one spin rotating
faster than (or at least as fast as) all the others. If the start point
was not the result of a successful line minimization from the previous
stage, then the first bracket attempt step is sized so that the fastest
moving spin rotates through the angle specified by
<span class="ltx_text ltx_font_bold">minimum_bracket_step</span>. In the more usual case that the
start point is a minimum from the previous line minimization stage, the
initial bracket attempt step size is set to the distance between the
current start point and the start point of the previous line
minimization stage.</p>
</div>
<div id="Ch7.S3.I8.ix4.p4" class="ltx_para ltx_align_left">
<p class="ltx_p">The energy and gradient of the energy are examined at the candidate
bracket point to test if an energy minimum lies in the interval. If
not, the interval is extended, based on the size of the first bracket
attempt interval and the derivatives of the energy at the interval
endpoints. This process is continued until either a minimum is
bracketed or the fastest moving spin rotates through the angle specified
by <span class="ltx_text ltx_font_bold">maximum_bracket_step</span>.</p>
</div>
<div id="Ch7.S3.I8.ix4.p5" class="ltx_para ltx_align_left">
<p class="ltx_p">If the bracketing process is successful, then a one dimensional
minimization is carried out in the interval, using both energy and
energy derivative information. Each step in this process reduces the
width of the bracketing interval. This process is continued until
the angle between the line direction and the computed energy
gradient is within <span class="ltx_text ltx_font_bold">line_minimum_angle_precision</span> degrees of
orthogonal, and the width of the interval relative to the distance of the
interval from the start point (i.e., the stop point from the previous
line minimization process) is less than
<span class="ltx_text ltx_font_bold">line_minimum_relwidth</span>. The stop point,
i.e., the effective minimum, is taken to be the endpoint of the final
interval having smaller energy. The default value for
<span class="ltx_text ltx_font_italic">min_prec_angle</span> is 1 degree, and the default value for
<span class="ltx_text ltx_font_italic">relwidth</span> is 1. This latter setting effectively disables the
<span class="ltx_text ltx_font_typewriter">line_minimum_relwidth</span> control, which should generally be used
only as a secondary control.</p>
</div>
<div id="Ch7.S3.I8.ix4.p6" class="ltx_para ltx_align_left">
<p class="ltx_p">If the bracketing process is unsuccessful, i.e., the check for bracketed
energy minimum failed at the maximum bracket interval size allowed by
<span class="ltx_text ltx_font_typewriter">maximum_bracket_step</span>, then the maximum bracket endpoint is
accepted as the next point in the minimization iteration.</p>
</div>
<div id="Ch7.S3.I8.ix4.p7" class="ltx_para ltx_align_left">
<p class="ltx_p">Once the line minimum stop point has been selected, the next iteration
begins with selection of a new line direction, as described above,
except in the case where the stop point was not obtained as an actual
minimum, but rather by virtue of satisfying the
<span class="ltx_text ltx_font_typewriter">maximum_bracket_step</span> constraint. In that case the orthogonal
line sequence is reset, in the same manner as when the
<span class="ltx_text ltx_font_typewriter">gradient_reset_angle</span> or <span class="ltx_text ltx_font_typewriter">gradient_reset_count</span>
controls are triggered, and the next line direction is taken directly
from the energy gradient.</p>
</div>
<div id="Ch7.S3.I8.ix4.p8" class="ltx_para ltx_align_left">
<p class="ltx_p">There are several factors to bear in mind when selecting values for
the parameters <span class="ltx_text ltx_font_typewriter">minimum_bracket_step</span>,
<span class="ltx_text ltx_font_typewriter">maximum_bracket_step</span>, and <span class="ltx_text ltx_font_typewriter">line_minimum_relwidth</span>.
If <span class="ltx_text ltx_font_typewriter">minimum_bracket_step</span> is too small, then it may take a
great many steps to obtain an interval large enough to bracket the
minimum. If <span class="ltx_text ltx_font_typewriter">minimum_bracket_step</span> is too large, then the
bracket interval will be unnecessarily generous, and many steps may be
required to locate the minimum inside the bracketing interval. However,
this value only comes into play when resetting the line minimization
direction sequence, so the setting is seldom critical. It is specified
in degrees, with default value 0.05.</p>
</div>
<div id="Ch7.S3.I8.ix4.p9" class="ltx_para ltx_align_left">
<p class="ltx_p">If <span class="ltx_text ltx_font_typewriter">maximum_bracket_step</span> is too small, then the minima will be
mostly not bracketed, and the minimization will degenerate into a type
of steepest descent method. On the other hand, if
<span class="ltx_text ltx_font_typewriter">maximum_bracket_step</span> is too large, then the line
minimizations may draw the magnetization far away from a local energy
minimum (i.e., one on the full <math id="Ch7.S3.I8.ix4.p9.m1" class="ltx_Math" alttext="3N" display="inline"><mrow><mn>3</mn><mo>⁢</mo><mi>N</mi></mrow></math> dimensional magnetization space),
eventually ending up in a different, more distant minimum. The value
for <span class="ltx_text ltx_font_typewriter">maximum_bracket_step</span> is specified in degrees, with
default value 10.</p>
</div>
<div id="Ch7.S3.I8.ix4.p10" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">line_minimum_angle_precision</span> and
<span class="ltx_text ltx_font_typewriter">line_minimum_relwidth</span> values determine the precision of the
individual line minimizations, not the total minimization procedure,
which is governed by the stopping criteria specified in the driver’s
Specify block. However, these values are important because the
precision of the line minimizations affects the the line direction
sequence orthogonality. If both are too coarse, then the selected line
directions will quickly drift away from mutual orthogonality.
Conversely, setting either too fine will
produce additional line minimization steps that do nothing to improve
convergence towards the energy minimum in the full <math id="Ch7.S3.I8.ix4.p10.m1" class="ltx_Math" alttext="3N" display="inline"><mrow><mn>3</mn><mo>⁢</mo><mi>N</mi></mrow></math> dimensional
magnetization space.</p>
</div>
<div id="Ch7.S3.I8.ix4.p11" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">energy_precision</span> parameter estimates the relative
precision of the energy computations. This is used to introduce a slack
factor into the energy comparisons during the bracketing and line
minimization stages, that is, if the computed energy values at two
points have relative error difference smaller than
<span class="ltx_text ltx_font_italic">eprecision</span>, they are treated as having the same energy. The
default value for <span class="ltx_text ltx_font_italic">eprecision</span> is 1e-10. The true precision
will depend primarily on the number of spins in the simulation. It may
be necessary for very large simulations to increase the
<span class="ltx_text ltx_font_italic">eprecision</span> value.</p>
</div>
<div id="Ch7.S3.I8.ix4.p12" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">method</span> parameter can be set to either
<span class="ltx_text ltx_font_typewriter">Fletcher-Reeves</span> or <span class="ltx_text ltx_font_typewriter">Polak-Ribiere</span> to specify the
conjugate gradient direction selection algorithm. The default is
Fletcher-Reeves, which has somewhat smaller memory requirements.</p>
</div>
<div id="Ch7.S3.I8.ix4.p13" class="ltx_para ltx_align_left">
<p class="ltx_p">The last parameter, <span class="ltx_text ltx_font_bold">fixed_spins</span>, performs the same function
as for the <a href="#html:EulerEvolve" title="item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_typewriter">Oxs_EulerEvolve</a> class.</p>
</div>
<div id="Ch7.S3.I8.ix4.p14" class="ltx_para ltx_align_left">
<p class="ltx_p">The <span class="ltx_text ltx_font_typewriter">Oxs_CGEvolve</span> module provides nine scalar, one scalar
field, and two vector field outputs. The scalar outputs are</p>
<ul id="Ch7.S3.I8.ix4.I1" class="ltx_itemize">
<li id="Ch7.S3.I8.ix4.I0.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Max mxHxm:</span> maximum <math id="Ch7.S3.I8.ix4.I0.i1.p1.m1" class="ltx_Math" alttext="|\textbf{m}\times\textbf{H}\times\textbf{m}|" display="inline"><mrow><mo stretchy="false">|</mo><mrow><mtext>𝐦</mtext><mo>×</mo><mtext>𝐇</mtext><mo>×</mo><mtext>𝐦</mtext></mrow><mo stretchy="false">|</mo></mrow></math>, in A/m;
<span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> is the unit magnetization direction.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Total energy:</span> in joules.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Delta E:</span> change in energy between last step and current
step, in joules.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Energy calc count:</span> number of times total energy has been
calculated.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Bracket count:</span> total number of attempts required to
bracket energy minimum during first phase of line minimization
procedures.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Line min count:</span> total number of minimization steps during
second phase of line minimization procedures (i.e., steps after
minimum has been bracketed).</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Cycle count:</span> number of line direction selections.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i8.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Cycle sub count:</span> number of line direction selections
since the last gradient direction reset.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i9.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Conjugate cycle count:</span> number of times the conjugate gradient
process has been reset to the gradient direction.</p>
</div>
</li>
</ul>
</div>
<div id="Ch7.S3.I8.ix4.p15" class="ltx_para ltx_align_left">
<p class="ltx_p">The scalar field output is</p>
<ul id="Ch7.S3.I8.ix4.I1a" class="ltx_itemize">
<li id="Ch7.S3.I8.ix4.I0.i1a" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i1a.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Total energy density:</span> cellwise total energy density, in
J/m<math id="Ch7.S3.I8.ix4.I0.i1a.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn>3</mn></msup></math>.</p>
</div>
</li>
</ul>
</div>
<div id="Ch7.S3.I8.ix4.p16" class="ltx_para ltx_align_left">
<p class="ltx_p">The vector field outputs are</p>
<ul id="Ch7.S3.I8.ix4.I1b" class="ltx_itemize">
<li id="Ch7.S3.I8.ix4.I0.i1b" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i1b.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">H:</span> total effective field in A/m.</p>
</div>
</li>
<li id="Ch7.S3.I8.ix4.I0.i2a" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">•</span></span> 
<div id="Ch7.S3.I8.ix4.I0.i2a.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">mxHxm:</span> in A/m; <span class="ltx_text ltx_markedasmath ltx_font_bold">m</span> is the unit magnetization
direction.</p>
</div>
</li>
</ul>
</div>
<div id="Ch7.S3.I8.ix4.p17" class="ltx_para ltx_align_left">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Examples:</span> <span class="ltx_text ltx_font_typewriter">cgtest.mif</span>, <span class="ltx_text ltx_font_typewriter">stdprob3.mif</span>, <span class="ltx_text ltx_font_typewriter">yoyo.mif</span>.</p>
</div>
</dd>
</dl>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="sec_oxsEnergies.html" title="7.3.3 Energies ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.3 </span>Energies</span></a><a href="sec_oxsDrivers.html" title="7.3.5 Drivers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7.3.5 </span>Drivers</span></a><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a>
</div></footer>
</div>
</body>
</html>
