<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide</title>
<!--Generated by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on September 30, 2022.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="oommf.css" type="text/css">
<link rel="stylesheet" href="oommf-report.css" type="text/css">
<link rel="stylesheet" href="oommf-tweakfonts.css" type="text/css">
<link rel="stylesheet" href="oommf-navbar.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="up up" href="userguide.html" title="OOMMF User’s Guide">
<link rel="start" href="userguide.html" title="OOMMF User’s Guide">
<link rel="prev" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="next" href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="section" href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide">
<link rel="chapter" href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide">
<link rel="chapter" href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide">
<link rel="bibliography" href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide">
<link rel="index" href="index.html" title="Index ‣ OOMMF User’s Guide">
<meta name="keywords" lang="en" content="FFT, Landau-Lifshitz, MIF 1.x, ODE, Runge-Kutta, Zeeman, anisotropy, application, applied, control point, data table, demag, effective, energy, exchange, field, file, grid, interactive control, iteration, log, magnetization, max angle, mmDisp, mmGraph, mmLaunch, mmLaunch user interface, mmSolve2D, mxh, output schedule, predictor-corrector, restarting, simulation 2D, step size, termination, threads, time, time step, total, update count, vector field">
</head>
<body>
<nav class="ltx_page_navbar"><a href="userguide.html" title="OOMMF User’s Guide" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">OOMMF User’s Guide</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="disclaimer.html" title="Disclaimer ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Disclaimer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_overview.html" title="Chapter 1 Overview of OOMMF ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Overview of OOMMF</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_install.html" title="Chapter 2 Installation ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Installation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_quickstart.html" title="Chapter 3 Quick Start: Example OOMMF Session ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Quick Start: Example OOMMF Session</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>OOMMF Architecture Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cll.html" title="Chapter 5 Command Line Launching ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Command Line Launching</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>OOMMF Launcher/Control Interface: mmLaunch</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_oxs.html" title="Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>OOMMF eXtensible Solver</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmprobed.html" title="Chapter 8 Micromagnetic Problem Editor: mmProbEd ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Micromagnetic Problem Editor: mmProbEd</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_filesource.html" title="Chapter 9 Micromagnetic Problem File Source: FileSource ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Micromagnetic Problem File Source: FileSource</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter">
<a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section ltx_ref_self"><span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.1 </span>The 2D Micromagnetic Interactive Solver: mmSolve2D</span></span></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmdatatable.html" title="Chapter 11 Data Table Display: mmDataTable ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Data Table Display: mmDataTable</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmgraph.html" title="Chapter 12 Data Graph Display: mmGraph ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Data Graph Display: mmGraph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Vector Field Display: mmDisp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmarchive.html" title="Chapter 14 Data Archive: mmArchive ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Data Archive: mmArchive</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mmhelp.html" title="Chapter 15 Documentation Viewer: mmHelp ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Documentation Viewer: mmHelp</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_cmdutils.html" title="Chapter 16 Command Line Utilities ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Command Line Utilities</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_mifformat.html" title="Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>Problem Specification File Formats (MIF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_odtformat.html" title="Chapter 18 Data Table File Format (ODT) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Data Table File Format (ODT)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_vfformats.html" title="Chapter 19 Vector Field File Format (OVF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Vector Field File Format (OVF)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_trouble.html" title="Chapter 20 Troubleshooting ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>Troubleshooting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="sec_credits.html" title="Chapter 21 Credits ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">21 </span>Credits</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bibliography.html" title="Bibliography ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Bibliography</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a><a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a><a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_section ltx_authors_1line">
<h1 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">10.1 </span>The 2D Micromagnetic Interactive Solver: mmSolve2D</h1>

<div id="p1" class="ltx_para ltx_align_center">
<div class="ltx_inline-block ltx_transformed_outer" style="width:519.2pt;height:319.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;"><img src="pngfiles/mmsolve2d-ss.png" id="p1.g1" class="ltx_graphics" width="649" height="399" alt="">
</span></div>
</div>
<div id="p2" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Overview
<br class="ltx_break"></span>The application <span class="ltx_text ltx_font_bold">mmSolve2D</span> is a micromagnetic computation engine
capable of solving problems defined on two-dimensional square grids of
three-dimensional spins. Within the <a href="sec_arch.html" title="Chapter 4 OOMMF Architecture Overview ‣ OOMMF User’s Guide" class="ltx_ref">OOMMF architecture</a>,
<span class="ltx_text ltx_font_bold">mmSolve2D</span> is both a server and a client application.
<span class="ltx_text ltx_font_bold">mmSolve2D</span> is a client of
problem description server applications, data table display and storage
applications, and vector field display and storage applications.
<span class="ltx_text ltx_font_bold">mmSolve2D</span> is the server of a solver control service for which the
only client is <a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmLaunch</a>. It is through
this service that <span class="ltx_text ltx_font_bold">mmLaunch</span> provides a user interface window (shown
above) on behalf of <span class="ltx_text ltx_font_bold">mmSolve2D</span>.</p>
</div>
<div id="p3" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Launching
<br class="ltx_break"><span class="ltx_text" style="font-size:83%;">mmSolve2D</span></span> may be started either by selecting the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">mmSolve2D</span> button on <a href="sec_mmlaunch.html" title="Chapter 6 OOMMF Launcher/Control Interface: mmLaunch ‣ OOMMF User’s Guide" class="ltx_ref">mmLaunch</a>, or from the
command line via
</p>
<pre class="ltx_verbatim ltx_font_typewriter">
tclsh oommf.tcl mmSolve2D [standard options] [-restart &lt;0|1&gt;]
</pre>
<dl id="I1" class="ltx_description">
<dt id="I1.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">-restart <math id="I1.ix1.m1" class="ltx_Math" alttext="&lt;" display="inline"><mo mathvariant="bold">&lt;</mo></math>0</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">1<math id="I1.ix1.m2" class="ltx_Math" alttext="&gt;" display="inline"><mo mathvariant="bold">&gt;</mo></math></span></span></dt>
<dd class="ltx_item">
<div id="I1.ix1.p1" class="ltx_para">
<p class="ltx_p">Affects the behavior of the solver
when a new problem is loaded. Default value is 0. When launched with
<span class="ltx_text ltx_font_typewriter">-restart 1</span>, the solver will look for <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename<span class="ltx_text ltx_font_upright">.log</span></span>
and <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename*<span class="ltx_text ltx_font_upright">.omf</span></span> files to restart a previous run from
the last saved state (where <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename</span> is the “Base
Output Filename” specified in the input <a href="sec_mif1outspec.html" title="17.1.6 Output specification ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 1.1</a>
problem specification file). If these files cannot be found, then a
warning is issued and the solver falls back to the default behavior
(<span class="ltx_text ltx_font_typewriter">-restart 0</span>) of starting the problem from scratch. The specified
<span class="ltx_text ltx_font_typewriter">-restart</span> setting holds for <span class="ltx_text ltx_font_bold">all</span> problems fed to the
solver, not just the first. (There is currently no interactive way to
change the value of this switch.)</p>
</div>
</dd>
</dl>
</div>
<div id="p4" class="ltx_para">
<p class="ltx_p">Since <span class="ltx_text ltx_font_bold">mmSolve2D</span> does not present
any user interface window of its own, it depends on
<span class="ltx_text ltx_font_bold">mmLaunch</span> to provide an interface on
its behalf. The entry for an instance of <span class="ltx_text ltx_font_bold">mmSolve2D</span> in the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Threads</span> column of any running copy of
<span class="ltx_text ltx_font_bold">mmLaunch</span> has a checkbutton next to it. This button toggles the
presence of a user interface window through which the user may control
that instance of <span class="ltx_text ltx_font_bold">mmSolve2D</span>. The user interface window is divided
into panels, providing user interfaces to the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Inputs</span>, <span class="ltx_text ltx_font_sansserif ltx_font_bold">Outputs</span>, and <span class="ltx_text ltx_font_sansserif ltx_font_bold">Controls</span> of <span class="ltx_text ltx_font_bold">mmSolve2D</span>.</p>
</div>
<div id="p5" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Inputs
<br class="ltx_break"></span>The top panel of the user interface window may be opened and closed
by toggling the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Inputs</span> checkbutton. When open, the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Inputs</span> panel reveals two subpanels. The left subpanel
contains a list of the inputs required by <span class="ltx_text ltx_font_bold">mmSolve2D</span>. There is
only one item in the list: <span class="ltx_text ltx_font_sansserif ltx_font_bold">ProblemDescription</span>. When
<span class="ltx_text ltx_font_sansserif ltx_font_bold">ProblemDescription</span> is selected, the right subpanel (labeled
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Source Threads</span>) displays a list of applications
that can supply a problem description. The user selects from among the
listed applications the one from which <span class="ltx_text ltx_font_bold">mmSolve2D</span> should request a
problem description.</p>
</div>
<div id="p6" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Outputs
<br class="ltx_break"></span>When <span class="ltx_text ltx_font_bold">mmSolve2D</span> has outputs available to be controlled, a
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Scheduled Outputs</span> checkbutton appears in the user interface
window. Toggling the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Scheduled Outputs</span> checkbutton causes a
bottom panel to open and close in the user interface window. When open,
the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Scheduled Outputs</span> panel contains three subpanels. The
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Outputs</span> subpanel is filled with a list of the types of output
<span class="ltx_text ltx_font_bold">mmSolve2D</span> can generate while solving the loaded problem. The
three elements in this list are <span class="ltx_text ltx_font_sansserif ltx_font_bold">TotalField</span>, for the output of a
vector field representing the total effective
field, <span class="ltx_text ltx_font_sansserif ltx_font_bold">Magnetization</span>, for the output of a vector field
representing the current magnetization state of the grid of spins, and
<span class="ltx_text ltx_font_sansserif ltx_font_bold">DataTable</span>, for the output of a table of data
values describing other quantities of interest
calculated by <span class="ltx_text ltx_font_bold">mmSolve2D</span>.</p>
</div>
<div id="p7" class="ltx_para">
<p class="ltx_p">Upon selecting one of the output types from the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Outputs</span> subpanel,
a list of applications appears in the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Destination Threads</span> subpanel which provide a
display and/or storage service for the type of output selected. The
user may select from this list those applications to which the selected
type of output should be sent.</p>
</div>
<div id="p8" class="ltx_para">
<p class="ltx_p">For each application selected, a final interface is displayed in the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Schedule</span> subpanel. Through this interface
the user may set the schedule according to which the selected type of
data is sent to the selected application for display or storage. The
schedule is described relative to events in <span class="ltx_text ltx_font_bold">mmSolve2D</span>. An
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Iteration</span> event occurs at every step in the solution of the ODE.
A <span class="ltx_text ltx_font_sansserif ltx_font_bold">ControlPoint</span> event occurs
whenever the solver determines that a control point specification is
met. (Control point specs are discussed in the <a href="sec_expparams.html" title="17.1.5 Experiment parameters ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">Experiment
parameters</a> paragraph in the <a href="sec_mif1format.html" title="17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 1.1
documentation</a>, and
are triggered by solver equilibrium, simulation time, and iteration
count conditions.) An <span class="ltx_text ltx_font_sansserif ltx_font_bold">Interactive</span> event occurs for a particular
output type whenever the corresponding “Interactive Outputs” button is
clicked in the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Runtime Control</span> panel. The <span class="ltx_text ltx_font_sansserif ltx_font_bold">Interactive</span>
schedule gives the user the ability to interactively force data to be
delivered to selected display and storage applications. For the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Iteration</span> and <span class="ltx_text ltx_font_sansserif ltx_font_bold">ControlPoint</span> events, the granularity of the
output delivery schedule is under user control. For example, the user
may elect to send vector field data describing the current magnetization
state to an <a href="html_mmdispdatascale.html" title="Chapter 13 Vector Field Display: mmDisp ‣ OOMMF User’s Guide" class="ltx_ref ltx_font_bold">mmDisp</a>
instance for display every 25 iterations of the ODE, rather than every
iteration.</p>
</div>
<div id="p9" class="ltx_para">
<p class="ltx_p">The quantities included in <span class="ltx_text ltx_font_sansserif ltx_font_bold">DataTable</span> output produced by
<span class="ltx_text ltx_font_bold">mmSolve2D</span> include:</p>
<ul id="I2" class="ltx_itemize">
<li id="I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Iteration:</span> The iteration count of the ODE
solver.</p>
</div>
</li>
<li id="I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Field Updates:</span> The number of times the
ODE solver has calculated the effective field.</p>
</div>
</li>
<li id="I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Sim Time (ns):</span> The elapsed simulated
time.
</p>
</div>
</li>
<li id="I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Time Step (ns):</span> The interval of simulated
time spanned by the last step taken in the ODE solver.</p>
</div>
</li>
<li id="I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Step Size:</span> The magnitude of the last step
taken by the ODE solver as a normalized value. (This is
currently the time step in seconds, multiplied by the
gyromagnetic ratio times the damping coefficient times <math id="I2.i5.p1.m1" class="ltx_Math" alttext="M_{s}" display="inline"><msub><mi>M</mi><mi>s</mi></msub></math>.)</p>
</div>
</li>
<li id="I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Bx, By, Bz (mT):</span> The <math id="I2.i6.p1.m1" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math>, <math id="I2.i6.p1.m2" class="ltx_Math" alttext="y" display="inline"><mi>y</mi></math>, and <math id="I2.i6.p1.m3" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math>
components of the <a href="sec_expparams.html" title="17.1.5 Experiment parameters ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">nominal applied field</a>.</p>
</div>
</li>
<li id="I2.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">B (mT):</span> The magnitude of the nominal applied field (always non-negative).</p>
</div>
</li>
<li id="I2.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i8.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">m x h</span><span class="ltx_text ltx_font_typewriter">|</span><span class="ltx_text ltx_font_bold">:</span> The maximum of the
point-wise quantity
<math id="I2.i8.p1.m1" class="ltx_Math" alttext="\|\textbf{M}\times\textbf{H}_{\rm eff}\|/M_{s}^{2}" display="inline"><mrow><mrow><mo>∥</mo><mrow><mtext>𝐌</mtext><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow><mo>∥</mo></mrow><mo>/</mo><msubsup><mi>M</mi><mi>s</mi><mn>2</mn></msubsup></mrow></math> over all the spins. This “torque” value is
used to test convergence to an equilibrium state (and raise
control point –torque events).</p>
</div>
</li>
<li id="I2.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i9.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Mx/Ms, My/Ms, Mz/Ms:</span> The <math id="I2.i9.p1.m1" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math>,
<math id="I2.i9.p1.m2" class="ltx_Math" alttext="y" display="inline"><mi>y</mi></math>, and <math id="I2.i9.p1.m3" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> components of the average magnetization of the
magnetically active elements of the simulated part.</p>
</div>
</li>
<li id="I2.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i10.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Total Energy (J/m<math id="I2.i10.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn mathvariant="normal">3</mn></msup></math>):</span> The total
average energy density for the magnetically active elements of
the simulated part.</p>
</div>
</li>
<li id="I2.i11" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i11.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Exchange Energy (J/m<math id="I2.i11.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn mathvariant="normal">3</mn></msup></math>):</span> The
component of the average energy density for the magnetically
active elements of the simulated part due to exchange
interactions.</p>
</div>
</li>
<li id="I2.i12" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i12.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Anisotropy Energy (J/m<math id="I2.i12.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn mathvariant="normal">3</mn></msup></math>):</span> The
component of the average energy density for the magnetically
active elements of the simulated part due to crystalline and
surface anisotropies.</p>
</div>
</li>
<li id="I2.i13" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i13.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Demag Energy (J/m<math id="I2.i13.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn mathvariant="normal">3</mn></msup></math>):</span> The component
of the average energy density for the magnetically active
elements of the simulated part due to self-demagnetizing fields.</p>
</div>
</li>
<li id="I2.i14" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i14.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Zeeman Energy (J/m<math id="I2.i14.p1.m1" class="ltx_Math" alttext="{}^{3}" display="inline"><msup><mi></mi><mn mathvariant="normal">3</mn></msup></math>):</span> The
component of average energy density for the magnetically active
elements of the simulated part due to interaction with the
applied field.</p>
</div>
</li>
<li id="I2.i15" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="I2.i15.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Max Angle:</span> The maximum angle (in degrees)
between the magnetization orientation of any pair of neighboring
spins in the grid. (The neighborhood of a spin is the same as
that defined by the exchange energy calculation.)</p>
</div>
</li>
</ul>
<p class="ltx_p">In addition, the solver automatically keeps a log file
that records the input problem specification and miscellaneous runtime
information. The name of this log file is <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename<span class="ltx_text ltx_font_upright">.log</span></span>,
where <span class="ltx_text ltx_font_typewriter ltx_font_italic">basename</span> is the “Base Output Filename” specified
in the input problem specification. If this file already exists, then
new entries are appended to the end of the file.</p>
</div>
<div id="p10" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Controls
<br class="ltx_break"></span>The middle section of the user interface window contains a series of
buttons providing user control over the
solver. After a problem
description server application has been selected, the <span class="ltx_text ltx_font_sansserif ltx_font_bold">LoadProblem</span>
button triggers a fetch of a problem description from the selected
server. The <span class="ltx_text ltx_font_sansserif ltx_font_bold">LoadProblem</span> button may be selected at any time to
(re-)load a problem description from the currently selected server.
After loading a new problem the solver goes automatically into a paused
state. (If no problem description server is selected when the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">LoadProblem</span> button is invoked, nothing will happen.) The
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Reset</span> button operates similarly, except that the current problem
specifications are used.</p>
</div>
<div id="p11" class="ltx_para">
<p class="ltx_p">Once a problem is loaded, the solver can be put into any of three
states: run, relax and pause. Selecting <span class="ltx_text ltx_font_sansserif ltx_font_bold">Relax</span> puts the solver
into the “relax” state, where it runs until a control point is
reached, after which the solver pauses. If the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Relax</span> button is
reselected after reaching a control point, then the solver will simply
re-pause immediately. The <span class="ltx_text ltx_font_sansserif ltx_font_bold">Field+</span> or <span class="ltx_text ltx_font_sansserif ltx_font_bold">Field–</span> button must be
invoked to change the applied field state. (Field state schedules are
discussed below.) The <span class="ltx_text ltx_font_sansserif ltx_font_bold">Run</span> selection differs in that when a
control point is reached, the solver automatically steps the nominal
applied field to the next value, and continues. In “run” mode the
solver will continue to process until there are no more applied field
states in the problem description. At any time the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Pause</span> button
may be selected to pause the solver. The solver will stay in this state
until the user reselects either <span class="ltx_text ltx_font_sansserif ltx_font_bold">Run</span> or <span class="ltx_text ltx_font_sansserif ltx_font_bold">Relax</span>. The current
state of the solver is indicated in the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Status</span> line in the center
panel of the user interface window.</p>
</div>
<div id="p12" class="ltx_para">
<p class="ltx_p">The problem description (MIF 1.x format)
specifies a fixed <a href="sec_expparams.html" title="17.1.5 Experiment parameters ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">applied field schedule</a>. This schedule defines an
ordered list of applied fields, which the solver in “run” mode steps
through in sequence. The <span class="ltx_text ltx_font_sansserif ltx_font_bold">Field–</span> and <span class="ltx_text ltx_font_sansserif ltx_font_bold">Field+</span> buttons allow
the user to interactively adjust the applied field sequence. Each click
on the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Field+</span> button advances forward one step through the specified
schedule, while <span class="ltx_text ltx_font_sansserif ltx_font_bold">Field–</span> reverses that process. In general, the
step direction is <span class="ltx_text ltx_font_italic">not</span> related to the magnitude of the applied
field. Also note that hitting these buttons does not generate a
“ControlPoint” event. In particular, if you are manually accelerating
the progress of the solver through a hysteresis loop, and want to send
non-ControlPoint data to a display or archive widget before advancing
the field, then you must use the appropriate “Interactive Output”
button.</p>
</div>
<div id="p13" class="ltx_para">
<p class="ltx_p">The second row of buttons in the interaction control panel,
<span class="ltx_text ltx_font_sansserif ltx_font_bold">TotalField</span>, <span class="ltx_text ltx_font_sansserif ltx_font_bold">Magnetization</span> and <span class="ltx_text ltx_font_sansserif ltx_font_bold">DataTable</span>, allow the
user to view the current state of the solver at any time. These buttons
cause the solver to send out data of the corresponding type to all
applications for which the “Interactive” schedule button for that
data type has been selected, as discussed in the Outputs section above.</p>
</div>
<div id="p14" class="ltx_para">
<p class="ltx_p">At the far right of the solver controls is the <span class="ltx_text ltx_font_sansserif ltx_font_bold">Exit</span> button, which
terminates <span class="ltx_text ltx_font_bold">mmSolve2D</span>. Simply
closing the user interface window does not terminate <span class="ltx_text ltx_font_bold">mmSolve2D</span>,
but only closes the user interface window. To kill the solver the
<span class="ltx_text ltx_font_sansserif ltx_font_bold">Exit</span> button must be pressed.</p>
</div>
<div id="p15" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Details
<br class="ltx_break"></span>Given a problem description, <span class="ltx_text ltx_font_bold">mmSolve2D</span> integrates the
Landau-Lifshitz equation <cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib10" title="A Lagrangian formulation of the gyromagnetic equation of the magnetization field" class="ltx_ref">12</a>, <a href="bibliography.html#bib12" title="On the theory of the dispersion of magnetic permeability in ferromagnetic bodies" class="ltx_ref">17</a>]</cite>
<br class="ltx_break"></p>
<table id="eq:llode" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch10.E1.m1" class="ltx_Math" alttext="\frac{d\textbf{M}}{dt}=-|\bar{\gamma}|\,\textbf{M}\times\textbf{H}_{\rm eff}-%
\frac{|\bar{\gamma}|\alpha}{M_{s}}\,\textbf{M}\times\left(\textbf{M}\times%
\textbf{H}_{\rm eff}\right)," display="block"><mrow><mrow><mfrac><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐌</mtext></mrow><mrow><mi>d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac><mo>=</mo><mrow><mrow><mo>-</mo><mrow><mrow><mrow><mo stretchy="false">|</mo><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover><mo rspace="4.2pt" stretchy="false">|</mo></mrow><mo>⁢</mo><mtext>𝐌</mtext></mrow><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow></mrow><mo>-</mo><mrow><mrow><mpadded width="+1.7pt"><mfrac><mrow><mrow><mo stretchy="false">|</mo><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover><mo stretchy="false">|</mo></mrow><mo>⁢</mo><mi>α</mi></mrow><msub><mi>M</mi><mi>s</mi></msub></mfrac></mpadded><mo>⁢</mo><mtext>𝐌</mtext></mrow><mo>×</mo><mrow><mo>(</mo><mrow><mtext>𝐌</mtext><mo>×</mo><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mrow><mo>)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10.1)</span></td>
</tr>
</table>
<p class="ltx_p">where

</p>
<table id="Ch10.Ex1" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch10.Ex1.m1" class="ltx_Math" alttext="\begin{array}[]{rcl}\textbf{M}&amp;&amp;\textnormal{is the pointwise magnetization (A/%
m),}\\
\textbf{H}_{\rm eff}&amp;&amp;\textnormal{is the pointwise effective field (A/m),}\\
\bar{\gamma}&amp;&amp;\textnormal{is the Landau-Lifshitz gyromagnetic ratio (m/(A$%
\cdot$s)),}\\
\alpha&amp;&amp;\textnormal{is the damping coefficient (dimensionless).}\end{array}" display="block"><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><mtr><mtd columnalign="right"><mtext>𝐌</mtext></mtd><mtd></mtd><mtd columnalign="left"><mtext>is the pointwise magnetization (A/m),</mtext></mtd></mtr><mtr><mtd columnalign="right"><msub><mtext>𝐇</mtext><mi>eff</mi></msub></mtd><mtd></mtd><mtd columnalign="left"><mtext>is the pointwise effective field (A/m),</mtext></mtd></mtr><mtr><mtd columnalign="right"><mover accent="true"><mi>γ</mi><mo stretchy="false">¯</mo></mover></mtd><mtd></mtd><mtd columnalign="left"><mrow><mtext>is the Landau-Lifshitz gyromagnetic ratio (m/(A</mtext><mo>⋅</mo><mtext>s)),</mtext></mrow></mtd></mtr><mtr><mtd columnalign="right"><mi>α</mi></mtd><mtd></mtd><mtd columnalign="left"><mtext>is the damping coefficient (dimensionless).</mtext></mtd></mtr></mtable></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
<p class="ltx_p">(See also the discussion of the
<a href="sec_oxsEvolvers.html#eq:oxsllode" title="(7.2) ‣ item Oxs_EulerEvolve: ‣ 7.3.4 Evolvers ‣ 7.3 Standard Oxs_Ext Child Classes ‣ Chapter 7 OOMMF eXtensible Solver ‣ OOMMF User’s Guide" class="ltx_ref">Landau-Lifshitz-Gilbert equations</a> in the
Oxs documentation.)</p>
</div>
<div id="p16" class="ltx_para">
<p class="ltx_p">The effective field is defined as

</p>
<table id="Ch10.Ex2" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch10.Ex2.m1" class="ltx_Math" alttext="\textbf{H}_{\rm eff}=-\mu_{0}^{-1}\frac{\partial E}{\partial\textbf{M}}." display="block"><mrow><mrow><msub><mtext>𝐇</mtext><mi>eff</mi></msub><mo>=</mo><mrow><mo>-</mo><mrow><msubsup><mi>μ</mi><mn>0</mn><mrow><mo>-</mo><mn>1</mn></mrow></msubsup><mo>⁢</mo><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mi>E</mi></mrow><mrow><mo>∂</mo><mo>⁡</mo><mtext>𝐌</mtext></mrow></mfrac></mrow></mrow></mrow><mo>.</mo></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
<p class="ltx_p">The average energy density <math id="p16.m1" class="ltx_Math" alttext="E" display="inline"><mi>E</mi></math> is a function of
<span class="ltx_text ltx_markedasmath ltx_font_bold">M</span> specified by Brown’s equations <cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib4" title="Micromagnetics" class="ltx_ref">5</a>]</cite>, including
anisotropy,
exchange, self-magnetostatic
(demagnetization) and applied
field (Zeeman) terms.</p>
</div>
<div id="p17" class="ltx_para">
<p class="ltx_p">The micromagnetic problem is impressed upon a regular 2D
grid of squares, with 3D magnetization spins positioned at
the centers of the cells. Note that the constraint that the grid be
composed of square elements takes priority over the requested size of
the grid. The actual size of the grid used in the computation will be
the nearest integral multiple of the grid’s cell size to the requested
size. It is important when comparing the results from grids with
different cell sizes to account for the possible change in size of the
overall grid.</p>
</div>
<div id="p18" class="ltx_para">
<p class="ltx_p">The anisotropy and applied field energy terms are calculated
assuming constant magnetization in each cell. The exchange energy is
calculated using the eight-neighbor bilinear interpolation described in
<cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib5" title="Exchange energy representations in computational micromagnetics" class="ltx_ref">6</a>]</cite>, with Neumann boundary conditions. The more common
four-neighbor scheme is available as a compile-time option. Details can
be found in the source-code file <span class="ltx_text ltx_font_typewriter">oommf/app/mmsolve/magelt.cc</span>.</p>
</div>
<div id="p19" class="ltx_para">
<p class="ltx_p">The self-magnetostatic field is calculated as the convolution of the
magnetization against a kernel that describes the cell to cell
magnetostatic interaction. The convolution is evaluated using fast
Fourier transform (FFT) techniques. Several kernels are
supported; these are selected as part of the problem description in
<a href="sec_mifdemagspec.html" title="17.1.2 Demag specification ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 1.x format</a>. Each kernel represents a different
interpretation of the discrete magnetization. The recommended model is
<span class="ltx_text ltx_font_typewriter">ConstMag</span>, which assumes the magnetization is constant in each cell,
and computes the average demagnetization field through the cell using
formulae from <cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib16" title="A generalization of the demagnetizing tensor for nonuniform magnetization" class="ltx_ref">23</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a href="bibliography.html#bib2" title="Demagnetizing factors for rectangular ferromagnetic prisms" class="ltx_ref">2</a>]</cite>.</p>
</div>
<div id="p20" class="ltx_para">
<p class="ltx_p">The Landau-Lifshitz ODE (<a href="#eq:llode" title="(10.1) ‣ 10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10.1</span></a>) is
integrated using a second order
predictor-corrector technique of the
Adams type. The right side of (<a href="#eq:llode" title="(10.1) ‣ 10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10.1</span></a>) at the current and
previous step is extrapolated forward in a linear fashion, and is
integrated across the new time interval to obtain a quadratic prediction
for <span class="ltx_text ltx_markedasmath ltx_font_bold">M</span> at the next time step. At each stage the spins are
renormalized to <math id="p20.m2" class="ltx_Math" alttext="M_{s}" display="inline"><msub><mi>M</mi><mi>s</mi></msub></math> before evaluating the energy and effective
fields. The right side of (<a href="#eq:llode" title="(10.1) ‣ 10.1 The 2D Micromagnetic Interactive Solver: mmSolve2D ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10.1</span></a>) is evaluated at the
predicted <span class="ltx_text ltx_markedasmath ltx_font_bold">M</span>, which is then combined with the value at the current
step to produce a linear interpolation of <math id="p20.m4" class="ltx_Math" alttext="d\textbf{M}/dt" display="inline"><mrow><mrow><mrow><mi>d</mi><mo>⁢</mo><mtext>𝐌</mtext></mrow><mo>/</mo><mi>d</mi></mrow><mo>⁢</mo><mi>t</mi></mrow></math> across the new
interval. This is then integrated to obtain the final estimate of <span class="ltx_text ltx_markedasmath ltx_font_bold">M</span>
at the new step. The local (one step) error of this procedure should be
<math id="p20.m6" class="ltx_Math" alttext="\mathcal{O}(\Delta t^{3})" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">𝒪</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msup><mi>t</mi><mn>3</mn></msup></mrow><mo stretchy="false">)</mo></mrow></mrow></math>.</p>
</div>
<div id="p21" class="ltx_para">
<p class="ltx_p">The step is accepted if the total energy of the system decreases, and
the maximum error between the predicted and final <span class="ltx_text ltx_markedasmath ltx_font_bold">M</span> is smaller than
a nominal value. If the step is rejected, then the step size is reduced
and the integration procedure is repeated. If the step is accepted,
then the error between the predicted and final <span class="ltx_text ltx_markedasmath ltx_font_bold">M</span> is used to adjust
the size of the next step. No fixed ratio between the previous and
current time step is assumed.</p>
</div>
<div id="p22" class="ltx_para">
<p class="ltx_p">A fourth order Runge-Kutta solver is used to
prime the predictor-corrector solver, and is used as a backup in case
the predictor-corrector fails to find a valid step. The Runge-Kutta
solver is not selectable as the primary solver at runtime, but may be so
selected at compile time by defining the <span class="ltx_text ltx_font_typewriter">RUNGE_KUTTA_ODE</span> macro.
See the file <span class="ltx_text ltx_font_typewriter">oommf/app/mmsolve/grid.cc</span> for all details of the
integration procedure.</p>
</div>
<div id="p23" class="ltx_para">
<p class="ltx_p">For a given applied field, the integration continues until a
<a href="sec_expparams.html" title="17.1.5 Experiment parameters ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">control point</a>
(cf. Experiment parameters, Sec. <a href="sec_expparams.html" title="17.1.5 Experiment parameters ‣ 17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17.1.5</span></a>) is
reached. A control point event may
be raised by the ODE iteration count, elapsed simulation time, or by the
maximum value of 
<math id="p23.m1" class="ltx_Math" alttext="\|\textbf{M}\times\textbf{H}_{\mbox{eff}}\|/M_{s}^{2}" display="inline"><mrow><mrow><mo>∥</mo><mrow><mtext>𝐌</mtext><mo>×</mo><msub><mtext>𝐇</mtext><mtext>eff</mtext></msub></mrow><mo>∥</mo></mrow><mo>/</mo><msubsup><mi>M</mi><mi>s</mi><mn>2</mn></msubsup></mrow></math> dropping below a
specified control point –torque value (implying an equilibrium state
has been reached).</p>
</div>
<div id="p24" class="ltx_para">
<p class="ltx_p">Depending on the problem size, <span class="ltx_text ltx_font_bold">mmSolve2D</span> can require a good deal
of working memory. The exact amount depends on a number of factors, but
a reasonable estimate is 5 MB + 1500 bytes per cell. For example, a
1 <math id="p24.m1" class="ltx_Math" alttext="\mu" display="inline"><mi>μ</mi></math>m <math id="p24.m2" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math> 1 <math id="p24.m3" class="ltx_Math" alttext="\mu" display="inline"><mi>μ</mi></math>m part discretized with 5 nm cells will require
approximately 62 MB.</p>
</div>
<div id="p25" class="ltx_para ltx_noindent">
<p class="ltx_p"><span class="ltx_text ltx_font_bold" style="font-size:120%;">Known Bugs
<br class="ltx_break"><span class="ltx_text" style="font-size:83%;">mmSolve2D</span></span> requires the damping coefficient to be non-zero.
See the <a href="sec_mif1format.html" title="17.1 MIF 1.1 ‣ Chapter 17 Problem Specification File Formats (MIF) ‣ OOMMF User’s Guide" class="ltx_ref">MIF 1.1 documentation</a> for details on specifying the damping
coefficient.</p>
</div>
<div id="p26" class="ltx_para">
<p class="ltx_p">When multiple copies of
<span class="ltx_text ltx_font_bold">mmLaunch</span>
are used, each can have its own interface to a running copy of
<span class="ltx_text ltx_font_bold">mmSolve2D</span>. When the interface presented by one copy of
<span class="ltx_text ltx_font_bold">mmLaunch</span> is used to set the output schedule in <span class="ltx_text ltx_font_bold">mmSolve2D</span>,
those settings are not reflected in the interfaces presented by other
copies of <span class="ltx_text ltx_font_bold">mmLaunch</span>. For example, although the first interface
sets a schedule that DataTable data is to be sent to an instance of
<span class="ltx_text ltx_font_bold">mmGraph</span> every third Iteration, there is
no indication of that schedule presented to the user in the second
interface window. It is unusual to have more than one copy of
<span class="ltx_text ltx_font_bold">mmLaunch</span> running simultaneously. However, this bug also appears
when one copy of <span class="ltx_text ltx_font_bold">mmLaunch</span> is used to load a problem and start a
solver, and later a second copy of <span class="ltx_text ltx_font_bold">mmLaunch</span> is used to monitor the
status of that running solver.</p>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="sec_mmsolve.html" title="Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>The 2D Micromagnetic Solver</span></a><a href="sec_obs.html" title="10.2 OOMMF 2D Micromagnetic Solver Batch System ‣ Chapter 10 The 2D Micromagnetic Solver ‣ OOMMF User’s Guide" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10.2 </span>OOMMF 2D Micromagnetic Solver Batch System</span></a><a href="index.html" title="Index ‣ OOMMF User’s Guide" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a>
</div></footer>
</div>
</body>
</html>
